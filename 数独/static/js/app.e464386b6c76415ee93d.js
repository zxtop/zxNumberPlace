webpackJsonp([1],{"1T0g":function(t,e,a){"use strict";var i={data:()=>({resultDate:store.state.resultArr}),mounted(){console.log("平台校验结果页出现")}},s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("el-table",{staticClass:"resultTable",staticStyle:{width:"19.2rem",positon:"absolute",left:"50%","margin-left":"-9.6rem",top:"-5rem",padding:"0 1rem"},attrs:{data:this.resultDate}},[e("el-table-column",{staticStyle:{width:"1rem"},attrs:{prop:"id",label:"题号"}}),this._v(" "),e("el-table-column",{staticStyle:{"text-align":"center"},attrs:{prop:"userAnswerContent",label:"你的答案"}}),this._v(" "),e("el-table-column",{attrs:{prop:"rightAnswerContent",label:"正确答案"}}),this._v(" "),e("el-table-column",{attrs:{prop:"isRight",label:"校验结果"}})],1)},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("e7va")},"data-v-2c50b6cb",null);e.a=n.exports},"5vYr":function(t,e){},"7Q5p":function(t,e){t.exports={id:"<h1>Not Found</h1>\n<h2>404</h2>\n<pre>NotFoundError: Not Found\n    at /home/www/module_plateform/app.js:43:8\n    at Layer.handle [as handle_request] (/home/www/module_plateform/node_modules/_express@4.16.3@express/lib/router/layer.js:95:5)\n    at trim_prefix (/home/www/module_plateform/node_modules/_express@4.16.3@express/lib/router/index.js:317:13)\n    at /home/www/module_plateform/node_modules/_express@4.16.3@express/lib/router/index.js:284:7\n    at Function.process_params (/home/www/module_plateform/node_modules/_express@4.16.3@express/lib/router/index.js:335:12)\n    at next (/home/www/module_plateform/node_modules/_express@4.16.3@express/lib/router/index.js:275:10)\n    at /home/www/module_plateform/node_modules/_express@4.16.3@express/lib/router/index.js:635:15\n    at next (/home/www/module_plateform/node_modules/_express@4.16.3@express/lib/router/index.js:260:14)\n    at Function.handle (/home/www/module_plateform/node_modules/_express@4.16.3@express/lib/router/index.js:174:3)\n    at router (/home/www/module_plateform/node_modules/_express@4.16.3@express/lib/router/index.js:47:12)</pre>\n",title:"数独",version:"1.0.11"}},A0sX:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAADIUlEQVRYhe2VPUgraRSGn/w4CYkWVwlWURstVKaZYCFEFFPEWNoY2EAUrkIIacSLoAuCCJK1ESRYbFDJKnaKohg7sfGvMWBQFASxkIhGSHEZHMdtbrLc64whW2y28K1mvvOel+d8c2AM4XBYAP4AfgOqKY+egL+AUTMQfXh4iKRSKWRZLguNxWKpFkUx4nA4vhuBQDlhAGRZJpVKAXw1AtXlhMnrB0O1sdwgv+oTqJg+gYrJXMwgiiLBYJCOjg4EQeDl5YXKykri8TjRaBSAvr4+/H4/TU1NmhmKonBycsLq6ir7+/v/HsjtdrO0tKRZy59PTEwwMDBQZCzweDx4PB7Gx8dZW1srHSh/C3ml02lkWaaiooKNjQ0ymQydnZ0FmFwux83NDaqqYjAYCn2qqiIIAi0tLQBMT09zenrK9fV1aUDBYBCTyYSqqgwODnJwcPDOMzY2BsDV1RX9/f08Pz/rTi6KIisrK9hsNoaHhxkdHdX06S51e3s7AMvLy5owtbW1NDY2AjAyMvIhDEAqlWJqagoASZJ0fbpAra2tAKyvr2vWXS5X4fn8/ByAaDRKMpnE5/Np9uzt7QFQV1enC6T7yfJ7oCiKZv3x8ZHb21vu7u4KZ21tbTidTurr6zV73t7efsouCSidTuNyufB6vVxeXr6rHx4e0tXVVXgXBIGamhoALi4uNDPdbjfAT0P8Kt1Pdnx8DMDQ0BDNzc26AXnNzc1hs9mQZVlz55xOJ5OTkwCcnZ3p5ujeUCKRIBQKYbVa2draYnt7m1wuh9n8T8vr6yuCICBJUmEvYrEYiqIgSRJ+vx9ZlqmqqsLr9WIymQBYWFgoHSiTyRAKhYjFYgD09vbqhuR1dHTE/Pw8ZrOZxcVF7Hb7O8/MzAzpdLp0IIBkMkkgECASidDQ0IAgCKiqWqjnlzObzbK7u8vs7CwAPT092O12stksBoMBRVG4v78nHo+zubn54VCGcDj8trOz86Hpv5LP5/v//e0/gYrpE6iYjMCTxWIpNwc/GJ6MQEIURcoJZbVaEUUR4E8z8M3hcBi6u7sDwJcyMWWBBPD73xMnFqcSTaNsAAAAAElFTkSuQmCC"},BsE7:function(t,e){},"E/U7":function(t,e){t.exports={port:8080}},IU3M:function(t,e){},IcnI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s=a("NYxO"),n=a("meqv");a.n(n);i.default.use(s.a);const o={postAnswer({state:t}){console.log(t.postArr,"整体答题数据"),Object(n.postAnswer)(t.postArr,t.testNum)},defaultPushToPostArr({state:t},e){t.postArr.push(e)},pushToPostArr({state:t},e){console.log(e,"第"+e.id+"道题答题数据"),t.postArr.splice(e.id,1,e)}},l={setIsPost(t,e){t.isShow=e,console.log()},setpIsPost(t,e){t.pisShow=e}};window.store=new s.a.Store({state:{postArr:[],resultArr:[],pisShow:!1,pShow:!1,goldnum:0,testNum:1,result:[],isShow:!1,tabShowLists:{bgImage:!1,stemImg:!1,subTitle:!1,option:!1,option1:!1},question:null,pageNum:0},actions:o,mutations:l})},KFro:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("7+uW"),s=a("50uv"),n=a("cb+Y"),o=a("xIDe");a("IcnI");var l={name:"App",data:()=>({}),components:{End:n.a,Pend:o.a},computed:{isShow:(t,e)=>store.state.isShow,pisShow:(t,e)=>store.state.pisShow},mounted(){console.log("APP组件加载完成"),console.log(this)}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view"),this._v(" "),this.$store.state.isShow?e("End"):this._e(),this._v(" "),this.pisShow?e("Pend"):this._e()],1)},staticRenderFns:[]};var c=a("VU/8")(l,r,!1,function(t){a("BsE7")},null,null).exports,m=a("/ocq");a("88EK");let d=PIXI.loader;a("IcnI");var h=a("7xcm"),u=a.n(h),g=a("OD72"),p=a.n(g),v=a("f7bW"),f=a.n(v),b=a("meqv"),w=a("R5/K"),x=(a("NYxO"),a("oTZi")),_=a.n(x);class S{constructor(){this.pixiStage=null,this.currentTarget=null,this.targetArr=[],this.dragArr=[],this.contentBox=null,this.currentArea=null,this.drag_width=null,this.drag_height=null,this.area_width=null,this.area_height=null,this.stemTarget=null,this.rightAnswer=[],this.styleText=null,this.textContainer=null,this.nextBtn=null,this.submit=null,this.errorSpArr=[],this.errorContainer=null,this.mouse=null}exec(){this.pixiStage=stage.children[0],this.init(store.state.pageNum),stage.on("pointermove",this.moveTarget.bind(this)),stage.on("pointerup",this.leaveMoveTarget.bind(this))}init(t){console.log("开始初始化第"+t+"页内容");let e=this;if(0!=t){console.log("页数是:",t),stage.removeChild(e.pixiStage),e.pixiStage=new f.a(question.sources[t].bgImage,question.sources[t].stemImg,res);let a=new p.a(question.sources[t].subTitle,res);e.pixiStage.addChild(a),this.targetArr=[],e.contentBox=null,e.contentBox=new s.Container,this.contentBox.texts=new s.Container,e.pixiStage.addChild(e.contentBox),stage.addChild(e.pixiStage),stage.setChildIndex(e.pixiStage,0)}else this.contentBox=new s.Container,this.contentBox.texts=new s.Container,this.pixiStage.addChild(this.contentBox);console.log("hhhh",stage),console.log(this.pixiStage),this.styleText={fontFamily:"Arial",fontSize:question.sources[store.state.pageNum].textStyle.fontSize+"px",fontWeight:"normal",fill:question.sources[store.state.pageNum].textStyle.color},this.drag_width=parseInt(question.sources[t].drags.dragsCommon.width),this.drag_height=parseInt(question.sources[t].drags.dragsCommon.height),this.area_width=parseInt(question.sources[t].targetArea.targetCommon.common.width),this.area_height=parseInt(question.sources[t].targetArea.targetCommon.common.height),this.nextBtn=new PIXI.Sprite.fromImage(res[question.one.comment.btnMap.nextBtn.name].url),this.submit=new PIXI.Sprite.fromImage(res[question.one.comment.btnMap.submitBtn.name].url),this.nextBtn.anchor.set(.5),this.nextBtn.x=parseInt(question.one.comment.btnMap.nextBtn.x)+parseInt(question.one.comment.btnMap.nextBtn.width)/2,this.nextBtn.y=parseInt(question.one.comment.btnMap.nextBtn.y)+parseInt(question.one.comment.btnMap.nextBtn.height)/2,this.nextBtn.width=parseInt(question.one.comment.btnMap.nextBtn.width),this.nextBtn.height=parseInt(question.one.comment.btnMap.nextBtn.height),this.nextBtn.setWidth=parseInt(question.one.comment.btnMap.nextBtn.width),this.nextBtn.setHeight=parseInt(question.one.comment.btnMap.nextBtn.height),this.submit.anchor.set(.5),this.submit.x=parseInt(question.one.comment.btnMap.submitBtn.x)+parseInt(question.one.comment.btnMap.submitBtn.width)/2,this.submit.y=parseInt(question.one.comment.btnMap.submitBtn.y)+parseInt(question.one.comment.btnMap.submitBtn.height)/2,this.submit.width=parseInt(question.one.comment.btnMap.submitBtn.width),this.submit.height=parseInt(question.one.comment.btnMap.submitBtn.height),this.submit.setWidth=parseInt(question.one.comment.btnMap.submitBtn.width),this.submit.setHeight=parseInt(question.one.comment.btnMap.submitBtn.height),e.contentBox.addChild(this.nextBtn,this.submit),t<question.sources.length-1?(this.nextBtn.alpha=1,this.submit.alpha=0,this.nextBtn.interactive=!0,this.submit.interactive=!1,this.nextBtn.on("pointerover",e.overAndScale),this.nextBtn.on("pointerout",e.outAndScale),this.nextBtn.on("pointerdown",e.nextPage.bind(this))):(this.nextBtn.alpha=0,this.submit.alpha=1,this.submit.interactive=!0,this.nextBtn.interactive=!1,this.submit.on("pointerover",e.overAndScale),this.submit.on("pointerout",e.outAndScale),this.submit.on("pointerdown",e.submitAnswer.bind(this))),question.sources[t].drags.dragsOption.map((t,a)=>{if(""!=t.image.name){let i=new PIXI.Sprite.fromImage(res[t.image.name].url);""==t.image.x||""==t.image.y?(i.x=0,i.y=0):(i.anchor.set(.5,.5),i.name=t.image.name,i.width=e.drag_width,i.height=e.drag_height,i.text=String(a+1),i.x=parseInt(t.image.x)+e.drag_width/2,i.y=parseInt(t.image.y)+e.drag_height/2,i.setWidth=e.drag_width,i.setHeight=e.drag_height,i.downWidth=e.area_width,i.downHeight=e.area_height,i.startX=parseInt(t.image.x)+e.drag_width/2,i.startY=parseInt(t.image.y)+e.drag_height/2,i.disX=null,i.disY=null,i.downPosition=null,i.newPosition=null,i.upX=null,i.upY=null,i.draging=!1,i.over=!1,i.stem=null,i.downX=null,i.downY=null,i.isover=null,""!==question.one.comment.optionAn&&new _.a(i,{type:question.one.comment.optionAn,delay:.3*Math.random()})),e.dragArr.push(i),e.contentBox.addChild(i),i.interactive=!0,"bomb"==question.one.comment.dragAn?i.on("pointerover",e.overAndScale_bomb):i.on("pointerover",e.overAndScale),i.on("pointerout",e.outAndScale),i.on("pointerdown",e.getCurrentTarget.bind(this))}}),console.log("3333",question.sources[t].targetArea.targetOption.length),question.sources[t].targetArea.targetOption.map((a,i)=>{if(question.sources[t].targetArea.targetCommon.default.image.name){let s=new PIXI.Sprite.fromImage(res[question.sources[t].targetArea.targetCommon.default.image.name].url);s.default=PIXI.Texture.fromImage(question.sources[t].targetArea.targetCommon.default.image.name),s.touch=PIXI.Texture.fromImage(question.sources[t].targetArea.targetCommon.touch.image.name),s.error=PIXI.Texture.fromImage(question.sources[t].targetArea.targetCommon.error.image.name),s.anchor.set(.5,.5),s.width=e.area_width,s.height=e.area_height,s.x=parseInt(a.x)+e.area_width/2,s.y=parseInt(a.y)+e.area_height/2,s.haveStuas=!1,s.stem=null,s.ids=i,s.isback=null,s.rightAnswer=a.rightDrag,e.contentBox.addChild(s),e.targetArr.push(s)}})}overAndScale_bomb(t){let e=t.currentTarget;e.isover=new _.a(e,{type:question.one.comment.dragAn,delay:.1*Math.random()}),"btn"==e.type?e.cursor="pointer":e.cursor="-webkit-grab"}overAndScale(t){let e=t.currentTarget;"btn"==e.type?e.cursor="pointer":e.cursor="-webkit-grab",w.TweenLite.to(e,.3,{width:1.05*e.width,height:1.05*e.height,alpha:.9})}outAndScale(t){let e=t.currentTarget;e.over?w.TweenLite.to(e,.3,{width:e.downWidth,height:e.downHeight,alpha:1}):w.TweenLite.to(e,.3,{width:e.setWidth,height:e.setHeight,alpha:1})}getCurrentTarget(t){let e=this;e.currentTarget=t.currentTarget,console.log("down"),!e.currentTarget.draging&&e.currentTarget&&(e.currentTarget.downX=e.currentTarget.x,e.currentTarget.downY=e.currentTarget.y,e.currentTarget.downPosition=t.data.getLocalPosition(stage),e.currentTarget.disX=e.currentTarget.downPosition.x-e.currentTarget.x,e.currentTarget.disY=e.currentTarget.downPosition.y-e.currentTarget.y,e.currentTarget.draging=!0)}moveTarget(t){let e=this;e.currentTarget&&e.currentTarget.draging&&(e.currentTarget.newPosition=t.data.getLocalPosition(stage),e.currentTarget.newPosition.x>10&&e.currentTarget.newPosition.x<1910&&e.currentTarget.newPosition.y>10&&e.currentTarget.newPosition.y<1070&&(e.currentTarget.cursor="-webkit-grabbing",e.currentTarget.x=e.currentTarget.newPosition.x-e.currentTarget.disX,e.currentTarget.y=e.currentTarget.newPosition.y-e.currentTarget.disY,e.contentBox.setChildIndex(e.currentTarget,e.contentBox.children.length-1),w.TweenLite.to(e.currentTarget,.4,{width:e.currentTarget.downWidth,height:e.currentTarget.downHeight,alpha:.9}),e.stemTarget=null,e.targetArr.map((t,a)=>{e.hitTarget(e.currentTarget,t)?(console.log("碰到了"),t.texture=t.touch,e.stemTarget=t):(console.log("没碰到"),t.texture=t.default)})))}leaveMoveTarget(t){let e=this;e.currentTarget&&(e.currentTarget.draging=!1,e.currentTarget.upX=e.currentTarget.x,e.currentTarget.upY=e.currentTarget.y,e.stemTarget?(question.one.comment.audioSrc.show&&res[question.one.comment.audioSrc.name].sound.play(),null==e.currentTarget.stem?null!=e.stemTarget.stem||e.stemTarget.haveStuas?(console.log("rrrr",this.stemTarget.stem),this.stemTarget.stem&&e.currentTarget.text==e.stemTarget.stem.text?(console.log("相同的，返回"),e.currentTarget.width=e.currentTarget.setWidth,e.currentTarget.height=e.currentTarget.setHeight,w.TweenLite.to(e.currentTarget,.4,{x:e.currentTarget.startX,y:e.currentTarget.startY,alpha:1,onComplete:function(){}})):(e.currentTarget.width=e.currentTarget.downWidth,e.currentTarget.height=e.currentTarget.downHeight,e.contentBox.removeChild(e.stemTarget.stem),w.TweenLite.to(e.currentTarget,.4,{x:e.stemTarget.x,y:e.stemTarget.y,alpha:1,onComplete:function(){}}),e.copyDragSprite(),e.stemTarget.stem=e.currentTarget,e.currentTarget.stem=e.stemTarget,e.stemTarget.haveStuas=!0,e.currentTarget.over=!0,e.currentTarget=null,e.stemTarget=null)):(e.currentTarget.width=e.currentTarget.downWidth,e.currentTarget.height=e.currentTarget.downHeight,w.TweenLite.to(e.currentTarget,.4,{x:e.stemTarget.x,y:e.stemTarget.y,alpha:1,onComplete:function(){}}),e.copyDragSprite(),e.stemTarget.stem=e.currentTarget,e.currentTarget.stem=e.stemTarget,e.stemTarget.haveStuas=!0,e.currentTarget.over=!0,e.currentTarget=null,e.stemTarget=null):e.currentTarget.downX==e.currentTarget.upX&&e.currentTarget.downY==e.currentTarget.upY?console.log("没有移动"):(console.log("移动了"),e.stemTarget.stem&&e.stemTarget.haveStuas?(console.log("交换"),e.currentTarget.stem&&(e.currentTarget.width=e.currentTarget.downWidth,e.currentTarget.height=e.currentTarget.downHeight,w.TweenLite.to(e.currentTarget,.4,{x:e.stemTarget.x,y:e.stemTarget.y,alpha:1,onComplete:function(){}}),w.TweenLite.to(e.stemTarget.stem,.3,{x:e.currentTarget.stem.x,y:e.currentTarget.stem.y}),e.stemTarget.stem.stem=e.currentTarget.stem,e.currentTarget.stem.stem=e.stemTarget.stem,e.currentTarget.stem.haveStuas=!0,e.stemTarget.stem.over=!0,e.currentTarget.stem=e.stemTarget,e.stemTarget.stem=e.currentTarget,e.stemTarget.haveStuas=!0,e.currentTarget.over=!0,e.currentTarget=null,e.stemTarget=null)):(w.TweenLite.to(e.currentTarget,.4,{x:e.stemTarget.x,y:e.stemTarget.y,alpha:1,onComplete:function(){}}),e.currentTarget.stem.haveStuas=!1,e.currentTarget.stem.stem=null,e.stemTarget.stem=e.currentTarget,e.currentTarget.stem=e.stemTarget,e.stemTarget.haveStuas=!0,e.currentTarget.over=!0,e.currentTarget=null,e.stemTarget=null))):(console.log("返回"),e.currentTarget.downX==e.currentTarget.upX&&e.currentTarget.downY==e.currentTarget.upY?console.log("没有移动"):(console.log("移动了"),w.TweenLite.to(e.currentTarget,.4,{x:e.currentTarget.startX,y:e.currentTarget.startY,alpha:1,onComplete:function(){e.currentTarget.stem?(e.currentTarget.stem.stem=null,e.contentBox.removeChild(e.currentTarget)):(e.currentTarget.width=e.currentTarget.setWidth,e.currentTarget.height=e.currentTarget.setHeight,e.currentTarget.stem=null,e.currentTarget.over=!1,e.currentTarget=null,e.stemTarget=null)}}))))}hitTarget(t,e){return!(t.newPosition.x+t.width-t.disX-t.width/2<e.x||t.newPosition.x-t.disX-t.width/2>e.x||t.newPosition.y+t.height-t.disY-t.height/2<e.y||t.newPosition.y-t.disY-t.height/2>e.y)}copyDragSprite(){console.log("复制新元素了...");let t=this,e=new PIXI.Sprite.fromImage(res[t.currentTarget.name].url);e.name=t.currentTarget.name,e.anchor.set(.5,.5),e.text=t.currentTarget.text,e.width=t.drag_width,e.height=t.drag_height,e.x=t.currentTarget.startX,e.y=t.currentTarget.startY,console.log(e.x,e.y),e.setWidth=t.drag_width,e.setHeight=t.drag_height,e.downWidth=t.area_width,e.downHeight=t.area_height,e.startX=t.currentTarget.startX,e.startY=t.currentTarget.startY,e.disX=null,e.disY=null,e.downPosition=null,e.newPosition=null,e.upX=null,e.upY=null,e.draging=!1,e.over=!1,e.stem=null,e.downX=null,e.downY=null,t.contentBox.addChild(e),e.interactive=!0,"bomb"==question.one.comment.dragAn?e.on("pointerover",t.overAndScale_bomb):e.on("pointerover",t.overAndScale),e.on("pointerout",t.outAndScale),e.on("pointerdown",t.getCurrentTarget.bind(this))}nextPage(t){let e=this,a=!1,i=new b.AnswerInfo;e.targetArr.map((t,i)=>{let s=new PIXI.Text(t.rightAnswer,e.styleText);if(s.x=parseInt(t.x)+e.area_width/2-s.width-10,s.y=parseInt(t.y)+e.area_height/2-s.height-10,e.contentBox.texts.addChild(s),console.log(s,e.contentBox.texts),t.stem&&t.rightAnswer==t.stem.text)console.log("right"),a=!0,e.contentBox.texts.children[i].alpha=0;else{if(question.sources[store.state.pageNum].targetArea.targetCommon.error.image.name){let a=new PIXI.Sprite.fromImage(res[question.sources[store.state.pageNum].targetArea.targetCommon.error.image.name].url);a.anchor.set(.5),a.width=e.area_width,a.height=e.area_height,a.x=parseInt(t.x),a.y=parseInt(t.y),e.contentBox.addChild(a),e.blings(a)}console.log("error"),a=!1}}),question.sources[store.state.pageNum].textStyle.show&&(console.log("显示正确答案样式"),e.contentBox.addChild(e.contentBox.texts),e.contentBox.setChildIndex(e.contentBox.texts,e.contentBox.children.length-1)),a?(i.init({type:0,useranswer:"",answer:"",id:store.state.pageNum,rightnum:1,wrongnum:0}),store.dispatch("pushToPostArr",i)):(i.init({type:0,useranswer:"",answer:"",id:store.state.pageNum,rightnum:0,wrongnum:1}),store.dispatch("pushToPostArr",i)),setTimeout(()=>{store.state.pageNum++,e.init(store.state.pageNum)},3e3)}submitAnswer(t){let e=this,a=!1,i=new b.AnswerInfo;e.targetArr.map((t,i)=>{let s=new PIXI.Text(t.rightAnswer,e.styleText);if(s.x=parseInt(t.x)+e.area_width/2-s.width-10,s.y=parseInt(t.y)+e.area_height/2-s.height-10,e.contentBox.texts.addChild(s),t.stem&&t.rightAnswer==t.stem.text)console.log("right"),a=!0,e.contentBox.texts.children[i].alpha=0;else{if(question.sources[store.state.pageNum].targetArea.targetCommon.error.image.name){let a=new PIXI.Sprite.fromImage(res[question.sources[store.state.pageNum].targetArea.targetCommon.error.image.name].url);a.anchor.set(.5),a.width=e.area_width,a.height=e.area_height,a.x=parseInt(t.x),a.y=parseInt(t.y),e.contentBox.addChild(a),e.blings(a)}console.log("error"),a=!1}}),question.sources[store.state.pageNum].textStyle.show&&(console.log("显示正确答案样式"),e.contentBox.addChild(e.contentBox.texts),e.contentBox.setChildIndex(e.contentBox.texts,e.contentBox.children.length-1)),a?(i.init({type:0,useranswer:"",answer:"",id:store.state.pageNum,rightnum:1,wrongnum:0}),store.dispatch("pushToPostArr",i)):(i.init({type:0,useranswer:"",answer:"",id:store.state.pageNum,rightnum:0,wrongnum:1}),store.dispatch("pushToPostArr",i)),setTimeout(()=>{store.dispatch("postAnswer")},1500)}blings(t){w.TweenLite.to(t,.4,{alpha:1,onComplete:function(){w.TweenLite.to(t,.3,{alpha:0,onComplete:function(){w.TweenLite.to(t,.4,{alpha:1,onComplete:function(){w.TweenLite.to(t,.4,{alpha:0,onComplete:function(){w.TweenLite.to(t,.4,{alpha:1})}})}})}})}})}}a("XJqe");var y={name:"start",data:()=>({isShow:!1,number:0}),methods:{createApp:()=>new s.Application({width:1920,height:1080,autoSize:!0,transparent:!0})},components:{},created(){document.getElementsByClassName("page-loading")[0].style.display="block"},destroyed(){PIXI.sound.stopAll(),app.destroy()},mounted(){PIXI.sound.stopAll(),document.getElementsByClassName("page-loading")[0].style.display="block",window.app=this.createApp(),app.view.style.width="19.2rem",app.view.style.height="10.8rem",window.stage=app.stage;this.$refs.canvas.appendChild(app.view),stage.interactive=!0,(window.res?new Promise((t,e)=>{console.info(2),t(window.res)}):(console.info(1),new Promise((t,e)=>{d.add("question","static/content.json"),d.add("resources","static/resource.json"),d.load(()=>{PIXI.loader.resources.resources.data.forEach(t=>{if(d.add(t.key,t.path),t.key.indexOf("image")>-1){var e=new Image;e.src=t.path,e.onerror=function(t){console.log(t),errorArr.unshift(dataAssembling({msg:"Resource not loaded error",url:t.target.src,type:"resourceLoadERROR"}))}}else if(t.key.indexOf("audio")>-1){var a=new Audio;a.src=t.path,a.onerror=function(e){errorArr.unshift(dataAssembling({msg:"Resource not loaded error",url:t.path,type:"resourceLoadERROR"}))}}}),d.load((e,a)=>{window.res=a,t(a)}),d.onError.add(t=>{console.log("loader加载错误")}),d.onProgress.add(t=>{document.getElementsByClassName("runner")[0].style.width=6.8*t.progress/100+"rem"}),d.onComplete.add(t=>{})})}))).then(t=>{console.log("%c资源加载完啦✌️","color:#FF323B;font-weight:bold;"),console.log(t),window.question=t.question.data,store.state.question=t.question.data,store.state.testNum=question.sources.length,document.getElementsByClassName("page-loading")[0].style.display="none";let e=new b.AnswerInfo;Object(b.Loading)(),e.answerDefault({type:0}),Object(b.Question)({id:"0",currentTotalOption:"1"});let a=new u.a(question.one.start,t),i=new S;if(window.question.one.start.show)stage.addChild(a),a.button(()=>{let e=new f.a(question.sources[0].bgImage,question.sources[0].stemImg,t),s=new p.a(question.sources[0].subTitle,t);e.addChild(s),stage.removeChild(a),stage.addChild(e),console.log(stage,"stage"),stage.setChildIndex(e,0),console.log(window.stage.getChildByName("gameBgSound"),"哈哈1"),i.exec()});else{let e=new f.a(question.sources[0].bgImage,question.sources[0].stemImg,t),a=new p.a(question.sources[0].subTitle,t);e.addChild(a),stage.addChild(e),i.exec()}console.log(stage,"stage")})}},C={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e("div",{ref:"canvas",staticClass:"canvas"}),this._v(" "),e("img",{staticClass:"logo",attrs:{src:"static/images/logo.png"}})])},staticRenderFns:[]};var D=a("VU/8")(y,C,!1,function(t){a("Uc/L")},"data-v-6ea7b044",null).exports,T=a("fyoT");i.default.use(T.a),i.default.use(m.a);var B=new m.a({routes:[{path:"/",component:D},{path:"/edit",component:T.a}]}),k=a("zL8q"),I=a.n(k),A=(a("tvR6"),a("WaS4")),N=a.n(A),$=a("mw3O"),F=a.n($);i.default.config.productionTip=!1,i.default.prototype.$http=N.a,i.default.prototype.qs=F.a,i.default.use(I.a),new i.default({el:"#app",router:B,components:{App:c},store:store,template:"<App/>"})},PmZg:function(t,e){},"Uc/L":function(t,e){},"V/9s":function(t,e){},b6aA:function(t,e){},dkCW:function(t,e){},e7va:function(t,e){},"q+CB":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAeCAYAAABE4bxTAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQwIDc5LjE2MDQ1MSwgMjAxNy8wNS8wNi0wMTowODoyMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjE2RkRCNkYxOEEyMTFFOUFDNjNDQUI5Rjg0MjNFMUMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjE2RkRCNzAxOEEyMTFFOUFDNjNDQUI5Rjg0MjNFMUMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MTZGREI2RDE4QTIxMUU5QUM2M0NBQjlGODQyM0UxQyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MTZGREI2RTE4QTIxMUU5QUM2M0NBQjlGODQyM0UxQyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgtziOwAAAGWSURBVHja7JY/SwNBEMVz6mknkkIIdomVnQepBBtF0VKRoJUg4iew1EYUu/gNtLAQC7GxPrCwEgIiERUhlYqJQSMYVJLzHbyFVW73/lQpduDH3u68vZmby2zO8jwv1UnWleowMwmZhExCJqEAy4NDUAUNUAPfYFfSLIML+oOog1MwExrNP6k1THlqy1BT9OLZqi6mpfnr6OeTdXNeAl/AZsX2wCw4o/8d3IE2sKT7+PNe4EhrI+AmboU2+EQtVipIc02NP6ZDqp0HH9QfqHS6G7jcXFT4h6TX4IQkI1ih/j5JQo2QYAUpIbG2D8pgQbEnTX1bFbcnQgf+KPwv4AFUpLVxkAXDqh7iaCVp+xLHeYXfZeBJzvvAIK+vFHumOVaStP02y/sJRiP8Pk6obwI7wJ8FVWqOkrR9BjxK82PwxrYX1mJLj4Ec1zbBFtfWQBMMsNLiCHGkNxDrYJyLeei53GdLTfHf1nUxo7TqBDgHT6DOsgtq5BbsSHsWGdzXvIJncAmWwuJZ5iPfJGQSMgmZhP7arwADAC7CeOqEbawpAAAAAElFTkSuQmCC"},"qx/3":function(t,e,a){"use strict";var i=a("50uv"),s=a("v460");let n;var o={data:()=>({time:3,question:question,resultUrl:void 0}),computed:{goldnum:(t,e)=>store.state.goldnum},methods:{createApp:()=>new i.Application({width:1920,height:1080,autoSize:!0,transparent:!0})},mounted(){let t=this;if(question.one.end.endBg.image.show&&(this.resultUrl=res[question.one.end.endBg.image.name].url),question.one.end.endBg.animate.show){app.stop(),(n=this.createApp()).view.style.width="19.2rem",n.view.style.height="10.8rem",t.$refs.canvas.appendChild(n.view);let e=n.stage,a=Object(s.a)(question.one.end.endBg.animate.name);a.state.setAnimation(1,"animation",question.one.end.endBg.animate.loop);console.log(e),a.x=question.one.end.endBg.animate.x,a.y=question.one.end.endBg.animate.y,a.scale.set(question.one.gameBgSound.scale),e.addChild(a)}console.log("金币页+"+store.state.goldnum),this.fadeIn=!0,console.log(res[question.one.end.endBg.image.name]);const e=setInterval(()=>{if(this.time--,0===this.time){clearInterval(e);let t={type:"close"};window.parent.postMessage(t,"*")}},1e3)}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"result"},[a("div",[a("img",{staticClass:"bg",attrs:{src:"static/images/result.png",id:"bgImg"}}),t._v(" "),a("span",{staticClass:"txt",style:{color:t.question.one.end.goldText.color,left:t.question.one.end.goldText.x/100+"rem",top:t.question.one.end.goldText.y/100+"rem",fontSize:t.question.one.end.goldText.fontSize/100+"rem",fontFamily:t.question.one.end.goldText.fontFamily,fontWeight:t.question.one.end.goldText.fontWeight,fontStyle:t.question.one.end.goldText.fontStyle}},[t._v(t._s(t.goldnum))]),t._v(" "),t.question.one.end.endBg.image.show?a("img",{staticClass:"resimg",style:{left:t.question.one.end.endBg.image.x/100+"rem",top:t.question.one.end.endBg.image.y/100+"rem",width:t.question.one.end.endBg.image.width/100+"rem",height:t.question.one.end.endBg.image.height/100+"rem"},attrs:{src:t.resultUrl}}):t._e()]),t._v(" "),a("audio",{attrs:{autoplay:"autoplay",src:"static/audios/result.mp3"}}),t._v(" "),t.question.one.end.endBg.animate.show?a("div",{ref:"canvas",staticClass:"canvas"}):t._e()])},staticRenderFns:[]};var r=a("VU/8")(o,l,!1,function(t){a("PmZg")},"data-v-4599c928",null);e.a=r.exports},tvR6:function(t,e){},urul:function(t,e,a){"use strict";var i={name:"EditStart",data:()=>({showStatus:!1,startData:null,publicImage:null,maskStatus:!1,label:"1",startBgStatus:!0,startBtnStatus:!0,gameBgSoundData:null,resourceData:null,tabShowStatus:{startBg:!1,startBtn:!1,gameBgAudio:!1}}),props:["allData"],methods:{getJSON(){this.startData=this.allData.one.start,this.gameBgSoundData=this.allData.one.gameBgSound,this.getResourceData(()=>{this.showStatus=!0,this.startData.startBtn.image.show?this.label="1":this.startData.startBtn.animate.show?this.label="2":this.startData.startBtn.sprite.show?this.label="3":this.label="1"})},setResource(t,e){this.startData[t][e].show||(this.startData[t][e].name="")},getResourceData(t){this.$http.get("/getResourceJSON",{params:{}}).then(e=>{this.resourceData=e,t&&t()})},startBtn(t){Object.values(this.startData.startBtn).forEach(t=>{t.show=!1,t.name=""}),this.startData.startBtn[t].show=!0},setbgAudioStatus(){this.gameBgSoundData.show?this.tabShowStatus.gameBgAudio=!0:(this.gameBgSoundData.audio="",this.gameBgSoundData.animate_name="",this.tabShowStatus.gameBgAudio=!1)},tabShow(t,e){let a=this.$refs[e];this.tabShowStatus[t]?(this.tabShowStatus[t]=!1,a.className="el-icon-arrow-right"):(Object.keys(this.tabShowStatus).forEach((t,e)=>{this.tabShowStatus[t]=!1}),this.tabShowStatus[t]=!0,a.className="el-icon-arrow-down",this.gameBgSoundData.show||(this.tabShowStatus.gameBgAudio=!1,a.className="el-icon-arrow-right"))},uploadImage(t,e,a){let i=a.target.files[0].name.split(".")[a.target.files[0].name.split(".").length-1];-1!==["jpg","png"].indexOf(i)?0!==a.target.files.length?this.$http.post("/uploadingImage",{image:a.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(i=>{this.startData[t][e].name=i.resourceName,"startBg"!==t&&(this.startData[t][e].width=i.width,this.startData[t][e].height=i.height,this.startData[t][e].x=0,this.startData[t][e].y=0),a.target.value="",this.getResourceData()}):this.$message({message:"上传文件个数不符合",type:"warning"}):this.$message({message:"上传类型不符",type:"error"})},uploadAnimation(t,e){if(0===e.target.files.length||3!==e.target.files.length)return void this.$message({message:"上传文件个数不符合",type:"warning"});let a={};Object.values(e.target.files).forEach((t,e)=>{a["animation"+(e+1)]=t}),this.$http.post("/uploadingAnimation",a,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{e.target.value="","gameBgAudio"===t?this.gameBgSoundData.animate_name=a.resourceName:this.startData[t].animate.name=a.resourceName})},uploadSprite(t,e){if(0===e.target.files.length||2!==e.target.files.length)return void this.$message({message:"上传文件个数不符合",type:"warning"});let a={};Object.values(e.target.files).forEach((t,e)=>{a["sprite"+(e+1)]=t}),console.log(a),this.$http.post("/uploadingSprite",a,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{e.target.value="",this.startData[t].sprite.name=a.resourceName})},uploadAudio(t){let e=t.target.files[0].name.split(".")[t.target.files[0].name.split(".").length-1];-1!==["mp3","wav"].indexOf(e)?0!==t.target.files.length?this.$http.post("/uploadingAudio",{audio:t.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{t.target.value="",this.gameBgSoundData.audio=e.resourceName}):this.$message({message:"上传文件个数不符合",type:"warning"}):this.$message({message:"上传类型不符",type:"error"})},showBigImage(t){this.maskStatus=!0,this.publicImage=t.target.src}},mounted(){this.getJSON()}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showStatus?a("div",{staticClass:"start"},[a("el-switch",{staticStyle:{"margin-left":"15px"},attrs:{"active-color":"#77DC04","active-text":"是否应用","inactive-color":"#ff4949"},model:{value:t.startData.show,callback:function(e){t.$set(t.startData,"show",e)},expression:"startData.show"}}),t._v(" "),t.startData.show?a("div",[a("div",{staticClass:"start-title"},[a("i",{ref:"startBgTitle",class:t.tabShowStatus.startBg?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow("startBg","startBgTitle")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow("startBg","startBgTitle")}}},[t._v("\n                背景图\n            ")])]),t._v(" "),t.tabShowStatus.startBg?a("div",{staticClass:"start-inner"},[a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource("startBg","image")}},model:{value:t.startData.startBg.image.show,callback:function(e){t.$set(t.startData.startBg.image,"show",e)},expression:"startData.startBg.image.show"}},[t._v("图片")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.startData.startBg.image.name],alt:"",width:"131",height:"96"},on:{click:function(e){t.showBigImage(e)}}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage("startBg","image",e)}}})])])]),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource("startBg","sprite")}},model:{value:t.startData.startBg.sprite.show,callback:function(e){t.$set(t.startData.startBg.sprite,"show",e)},expression:"startData.startBg.sprite.show"}},[t._v("精灵序列图")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("\n                    精灵文件：\n                ")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.startData.startBg.sprite.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadSprite("startBg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.sprite.x,callback:function(e){t.$set(t.startData.startBg.sprite,"x",e)},expression:"startData.startBg.sprite.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.sprite.y,callback:function(e){t.$set(t.startData.startBg.sprite,"y",e)},expression:"startData.startBg.sprite.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.sprite.scale,callback:function(e){t.$set(t.startData.startBg.sprite,"scale",e)},expression:"startData.startBg.sprite.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.startData.startBg.sprite.loop,callback:function(e){t.$set(t.startData.startBg.sprite,"loop",e)},expression:"startData.startBg.sprite.loop"}})],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource("startBg","animate")}},model:{value:t.startData.startBg.animate.show,callback:function(e){t.$set(t.startData.startBg.animate,"show",e)},expression:"startData.startBg.animate.show"}},[t._v("动画")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("动画文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.startData.startBg.animate.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation("startBg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.animate.x,callback:function(e){t.$set(t.startData.startBg.animate,"x",e)},expression:"startData.startBg.animate.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.animate.y,callback:function(e){t.$set(t.startData.startBg.animate,"y",e)},expression:"startData.startBg.animate.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBg.animate.scale,callback:function(e){t.$set(t.startData.startBg.animate,"scale",e)},expression:"startData.startBg.animate.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.startData.startBg.animate.loop,callback:function(e){t.$set(t.startData.startBg.animate,"loop",e)},expression:"startData.startBg.animate.loop"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"start-title"},[a("i",{ref:"startBtnTitle",class:t.tabShowStatus.startBtn?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow("startBtn","startBtnTitle")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow("startBtn","startBtnTitle")}}},[t._v("\n                开始按钮\n            ")])]),t._v(" "),t.tabShowStatus.startBtn?a("div",{staticClass:"start-inner"},[a("div",{staticClass:"edit-radio-title"},[a("el-radio",{attrs:{label:"1"},on:{change:function(e){t.startBtn("image")}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t._v("图片")]),t._v(" "),a("el-radio",{attrs:{label:"2"},on:{change:function(e){t.startBtn("animate")}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t._v("动画")]),t._v(" "),a("el-radio",{attrs:{label:"3"},on:{change:function(e){t.startBtn("sprite")}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t._v("精灵序列")])],1),t._v(" "),"1"===t.label?a("div",[a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.startData.startBtn.image.name],alt:"",width:"131",height:"96"},on:{click:function(e){t.showBigImage(e)}}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage("startBtn","image",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.image.x,callback:function(e){t.$set(t.startData.startBtn.image,"x",e)},expression:"startData.startBtn.image.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.image.y,callback:function(e){t.$set(t.startData.startBtn.image,"y",e)},expression:"startData.startBtn.image.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.image.width,callback:function(e){t.$set(t.startData.startBtn.image,"width",e)},expression:"startData.startBtn.image.width"}},[a("template",{slot:"prepend"},[t._v("W：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.image.height,callback:function(e){t.$set(t.startData.startBtn.image,"height",e)},expression:"startData.startBtn.image.height"}},[a("template",{slot:"prepend"},[t._v("H：")])],2)],1):t._e(),t._v(" "),"2"===t.label?a("div",[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("动画文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.startData.startBtn.animate.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation("startBtn",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.animate.x,callback:function(e){t.$set(t.startData.startBtn.animate,"x",e)},expression:"startData.startBtn.animate.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.animate.y,callback:function(e){t.$set(t.startData.startBtn.animate,"y",e)},expression:"startData.startBtn.animate.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.animate.scale,callback:function(e){t.$set(t.startData.startBtn.animate,"scale",e)},expression:"startData.startBtn.animate.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.startData.startBtn.animate.loop,callback:function(e){t.$set(t.startData.startBtn.animate,"loop",e)},expression:"startData.startBtn.animate.loop"}})],1)],1):t._e(),t._v(" "),"3"===t.label?a("div",[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("\n                        精灵文件：\n                    ")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.startData.startBtn.sprite.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadSprite("startBtn",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.sprite.x,callback:function(e){t.$set(t.startData.startBtn.sprite,"x",e)},expression:"startData.startBtn.sprite.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.sprite.y,callback:function(e){t.$set(t.startData.startBtn.sprite,"y",e)},expression:"startData.startBtn.sprite.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.startData.startBtn.sprite.scale,callback:function(e){t.$set(t.startData.startBtn.sprite,"scale",e)},expression:"startData.startBtn.sprite.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.startData.startBtn.sprite.loop,callback:function(e){t.$set(t.startData.startBtn.sprite,"loop",e)},expression:"startData.startBtn.sprite.loop"}})],1)],1):t._e()]):t._e(),t._v(" "),a("div",{staticClass:"start-title"},[a("i",{ref:"gameBgAudioTitle",class:t.tabShowStatus.gameBgAudio?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow("gameBgAudio","gameBgAudioTitle")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow("gameBgAudio","gameBgAudioTitle")}}},[t._v("\n                背景音乐\n            ")]),t._v(" "),a("el-switch",{staticClass:"edit-title-switch",attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},on:{change:function(e){t.setbgAudioStatus()}},model:{value:t.gameBgSoundData.show,callback:function(e){t.$set(t.gameBgSoundData,"show",e)},expression:"gameBgSoundData.show"}})],1),t._v(" "),t.tabShowStatus.gameBgAudio&&!0===t.gameBgSoundData.show?a("div",{staticClass:"start-inner"},[a("div",{staticClass:"bg-audio-title"},[t._v("\n                音频\n            ")]),t._v(" "),a("div",{staticClass:"bg-audio-inner"},[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("音频文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.gameBgSoundData.audio)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAudio(e)}}})])])]),t._v(" "),a("div",{staticClass:"edit-range-audio"},[a("span",[t._v("音量：")]),t._v(" "),a("el-slider",{attrs:{min:Number(0),max:Number(1),step:Number(.1)},model:{value:t.gameBgSoundData.audioVolume,callback:function(e){t.$set(t.gameBgSoundData,"audioVolume",e)},expression:"gameBgSoundData.audioVolume"}})],1),t._v(" "),a("div",{staticClass:"edit-switch-audio"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.gameBgSoundData.loop,callback:function(e){t.$set(t.gameBgSoundData,"loop",e)},expression:"gameBgSoundData.loop"}})],1)]),t._v(" "),a("div",{staticClass:"bg-audio-title"},[t._v("\n                图标动画\n            ")]),t._v(" "),a("div",{staticClass:"bg-audio-inner"},[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("动画文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.gameBgSoundData.animate_name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation("gameBgAudio",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.gameBgSoundData.x,callback:function(e){t.$set(t.gameBgSoundData,"x",e)},expression:"gameBgSoundData.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.gameBgSoundData.y,callback:function(e){t.$set(t.gameBgSoundData,"y",e)},expression:"gameBgSoundData.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2)],1)]):t._e()]):t._e(),t._v(" "),t.maskStatus?a("div",{staticClass:"mask",on:{click:function(e){t.maskStatus=!1}}},[a("img",{attrs:{src:t.publicImage,alt:""}})]):t._e()],1):t._e()},staticRenderFns:[]};var n=a("VU/8")(i,s,!1,function(t){a("dkCW")},"data-v-93a04f9c",null).exports,o={name:"EditGamePublic",data:()=>({fontFamily:[{label:"微软雅黑",value:"Microsoft YaHei"},{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"},{label:"方正粗圆",value:"FZCuYuan-M03S"},{label:"方正粗圆简",value:"FZZhunYuan-M02S"}],textAlign:[{label:"左对齐",value:"left"},{label:"右对齐",value:"right"},{label:"居中对齐",value:"center"},{label:"两端对齐",value:"justify"}]}),props:["gameData","resourceData","tabShowStatus","item","index"],methods:{setResource(t,e,a){"subTitle"===e?this.gameData[t][e].audioShow||(this.gameData[t][e].audio="",this.gameData[t][e].soundImg.animate_name=""):this.gameData[t][e][a].show||(this.gameData[t][e][a].name="")},tabShow(t,e){let a=this.$refs[e+"Title"];this.tabShowStatus[t].child[e]?(this.tabShowStatus[t].child[e]=!1,a.className="el-icon-arrow-right"):(Object.keys(this.tabShowStatus[t].child).forEach((e,a)=>{this.tabShowStatus[t].child[e]=!1}),this.tabShowStatus[t].child[e]=!0,a.className="el-icon-arrow-down")},setGoldTextFontStyle(t,e){this.gameData[e].subTitle.stem[t]=!this.gameData[e].subTitle.stem[t]},uploadImage(t,e,a){let i=a.target.files[0].name.split(".")[a.target.files[0].name.split(".").length-1];-1!==["jpg","png"].indexOf(i)?0!==a.target.files.length?this.$http.post("/uploadingImage",{image:a.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(i=>{this.gameData[t][e].image.name=i.resourceName,"bgImage"!==e&&(this.gameData[t][e].image.width=i.width,this.gameData[t][e].image.height=i.height,this.gameData[t][e].image.x=0,this.gameData[t][e].image.y=0),a.target.value="",this.updateResourceData()}):this.$message({message:"上传文件个数不符合",type:"warning"}):this.$message({message:"上传类型不符",type:"error"})},uploadSprite(t,e,a){if(0===a.target.files.length||2!==a.target.files.length)return void this.$message({message:"上传文件个数不符合",type:"warning"});let i={};Object.values(a.target.files).forEach((t,e)=>{i["sprite"+(e+1)]=t}),console.log(i),this.$http.post("/uploadingSprite",i,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>{a.target.value="",this.gameData[t][e].sprite.name=i.resourceName})},uploadAudio(t,e){let a=e.target.files[0].name.split(".")[e.target.files[0].name.split(".").length-1];-1!==["mp3","wav"].indexOf(a)?0!==e.target.files.length?this.$http.post("/uploadingAudio",{audio:e.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{this.gameData[t].subTitle.audio=a.resourceName,e.target.value=""}):this.$message({message:"上传文件个数不符合",type:"warning"}):this.$message({message:"上传类型不符",type:"error"})},uploadAnimation(t,e,a){if(0===a.target.files.length||3!==a.target.files.length)return void this.$message({message:"上传文件个数不符合",type:"warning"});let i={};Object.values(a.target.files).forEach((t,e)=>{i["animation"+(e+1)]=t}),this.$http.post("/uploadingAnimation",i,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>{a.target.value="","soundImg"!==e?this.gameData[t][e].animate.name=i.resourceName:this.gameData[t].subTitle[e].animate_name=i.resourceName})},updateResourceData(){this.$emit("updateResourceData")}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"game-title"},[a("i",{ref:"bgImageTitle",class:t.tabShowStatus[t.index].child.bgImage?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(t.index,"bgImage")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(t.index,"bgImage")}}},[t._v("\n        背景图\n    ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.bgImage,expression:"tabShowStatus[index].child.bgImage"}],staticClass:"game-inner"},[a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"bgImage","image")}},model:{value:t.item.bgImage.image.show,callback:function(e){t.$set(t.item.bgImage.image,"show",e)},expression:"item.bgImage.image.show"}},[t._v("图片")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.item.bgImage.image.name],alt:"",width:"131",height:"96"}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage(t.index,"bgImage",e)}}})])])]),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"bgImage","sprite")}},model:{value:t.item.bgImage.sprite.show,callback:function(e){t.$set(t.item.bgImage.sprite,"show",e)},expression:"item.bgImage.sprite.show"}},[t._v("精灵序列")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("\n                精灵文件：\n            ")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.bgImage.sprite.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadSprite(t.index,"bgImage",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.sprite.x,callback:function(e){t.$set(t.item.bgImage.sprite,"x",e)},expression:"item.bgImage.sprite.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.sprite.y,callback:function(e){t.$set(t.item.bgImage.sprite,"y",e)},expression:"item.bgImage.sprite.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.sprite.scale,callback:function(e){t.$set(t.item.bgImage.sprite,"scale",e)},expression:"item.bgImage.sprite.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.item.bgImage.sprite.loop,callback:function(e){t.$set(t.item.bgImage.sprite,"loop",e)},expression:"item.bgImage.sprite.loop"}})],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"bgImage","animate")}},model:{value:t.item.bgImage.animate.show,callback:function(e){t.$set(t.item.bgImage.animate,"show",e)},expression:"item.bgImage.animate.show"}},[t._v("动画")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("动画文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.bgImage.animate.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation(t.index,"bgImage",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.animate.x,callback:function(e){t.$set(t.item.bgImage.animate,"x",e)},expression:"item.bgImage.animate.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.animate.y,callback:function(e){t.$set(t.item.bgImage.animate,"y",e)},expression:"item.bgImage.animate.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.bgImage.animate.scale,callback:function(e){t.$set(t.item.bgImage.animate,"scale",e)},expression:"item.bgImage.animate.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.item.bgImage.animate.loop,callback:function(e){t.$set(t.item.bgImage.animate,"loop",e)},expression:"item.bgImage.animate.loop"}})],1)],1),t._v(" "),a("div",{staticClass:"game-title"},[a("i",{ref:"stemImgTitle",class:t.tabShowStatus[t.index].child.stemImg?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(t.index,"stemImg")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(t.index,"stemImg")}}},[t._v("\n            题干\n        ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.stemImg,expression:"tabShowStatus[index].child.stemImg"}],staticClass:"game-inner"},[a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"stemImg","image")}},model:{value:t.item.stemImg.image.show,callback:function(e){t.$set(t.item.stemImg.image,"show",e)},expression:"item.stemImg.image.show"}},[t._v("图片")])],1),t._v(" "),a("div",[a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.item.stemImg.image.name],alt:"",width:"131",height:"96"}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage(t.index,"stemImg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.image.x,callback:function(e){t.$set(t.item.stemImg.image,"x",e)},expression:"item.stemImg.image.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.image.y,callback:function(e){t.$set(t.item.stemImg.image,"y",e)},expression:"item.stemImg.image.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.image.width,callback:function(e){t.$set(t.item.stemImg.image,"width",e)},expression:"item.stemImg.image.width"}},[a("template",{slot:"prepend"},[t._v("W：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.image.height,callback:function(e){t.$set(t.item.stemImg.image,"height",e)},expression:"item.stemImg.image.height"}},[a("template",{slot:"prepend"},[t._v("H：")])],2)],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"stemImg","sprite")}},model:{value:t.item.stemImg.sprite.show,callback:function(e){t.$set(t.item.stemImg.sprite,"show",e)},expression:"item.stemImg.sprite.show"}},[t._v("精灵序列")])],1),t._v(" "),a("div",[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("\n                精灵文件：\n            ")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.stemImg.sprite.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadSprite(t.index,"stemImg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.sprite.x,callback:function(e){t.$set(t.item.stemImg.sprite,"x",e)},expression:"item.stemImg.sprite.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.sprite.y,callback:function(e){t.$set(t.item.stemImg.sprite,"y",e)},expression:"item.stemImg.sprite.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.sprite.scale,callback:function(e){t.$set(t.item.stemImg.sprite,"scale",e)},expression:"item.stemImg.sprite.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.item.stemImg.sprite.loop,callback:function(e){t.$set(t.item.stemImg.sprite,"loop",e)},expression:"item.stemImg.sprite.loop"}})],1)],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"stemImg","animate")}},model:{value:t.item.stemImg.animate.show,callback:function(e){t.$set(t.item.stemImg.animate,"show",e)},expression:"item.stemImg.animate.show"}},[t._v("动画")])],1),t._v(" "),a("div",[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("动画文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.stemImg.animate.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation(t.index,"stemImg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.animate.x,callback:function(e){t.$set(t.item.stemImg.animate,"x",e)},expression:"item.stemImg.animate.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.animate.y,callback:function(e){t.$set(t.item.stemImg.animate,"y",e)},expression:"item.stemImg.animate.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.stemImg.animate.scale,callback:function(e){t.$set(t.item.stemImg.animate,"scale",e)},expression:"item.stemImg.animate.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.item.stemImg.animate.loop,callback:function(e){t.$set(t.item.stemImg.animate,"loop",e)},expression:"item.stemImg.animate.loop"}})],1)],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource(t.index,"subTitle","audio")}},model:{value:t.item.subTitle.audioShow,callback:function(e){t.$set(t.item.subTitle,"audioShow",e)},expression:"item.subTitle.audioShow"}},[t._v("音频")])],1),t._v(" "),a("div",[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("音频文件：")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.subTitle.audio)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadAudio(t.index,e)}}})])])]),t._v(" "),a("div",{staticClass:"edit-range-audio"},[a("span",[t._v("音量：")]),t._v(" "),a("el-slider",{attrs:{min:Number(0),max:Number(1),step:Number(.1)},model:{value:t.item.subTitle.audio_volume,callback:function(e){t.$set(t.item.subTitle,"audio_volume",e)},expression:"item.subTitle.audio_volume"}})],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("图标动画")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.item.subTitle.soundImg.animate_name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation(t.index,"soundImg",e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.soundImg.x,callback:function(e){t.$set(t.item.subTitle.soundImg,"x",e)},expression:"item.subTitle.soundImg.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.soundImg.y,callback:function(e){t.$set(t.item.subTitle.soundImg,"y",e)},expression:"item.subTitle.soundImg.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2)],1),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},model:{value:t.item.subTitle.stem.show,callback:function(e){t.$set(t.item.subTitle.stem,"show",e)},expression:"item.subTitle.stem.show"}},[t._v("题干文字")])],1),t._v(" "),a("div",[a("div",{staticClass:"edit-textarea"},[a("span",[t._v("内容：")]),t._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.item.subTitle.stem.text,expression:"item.subTitle.stem.text"}],attrs:{name:"",id:"",cols:"30",rows:"10",placeholder:"请输入文字"},domProps:{value:t.item.subTitle.stem.text},on:{input:function(e){e.target.composing||t.$set(t.item.subTitle.stem,"text",e.target.value)}}})]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.width,callback:function(e){t.$set(t.item.subTitle.stem,"width",e)},expression:"item.subTitle.stem.width"}},[a("template",{slot:"prepend"},[t._v("段落宽度：")])],2),t._v(" "),a("div",{staticClass:"edit-select"},[a("span",[t._v("字体：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.item.subTitle.stem.fontFamily,callback:function(e){t.$set(t.item.subTitle.stem,"fontFamily",e)},expression:"item.subTitle.stem.fontFamily"}},t._l(t.fontFamily,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.fontSize,callback:function(e){t.$set(t.item.subTitle.stem,"fontSize",e)},expression:"item.subTitle.stem.fontSize"}},[a("template",{slot:"prepend"},[t._v("字号：")])],2),t._v(" "),a("div",{staticClass:"edit-select"},[a("span",[t._v("对齐：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.item.subTitle.stem.textAlign,callback:function(e){t.$set(t.item.subTitle.stem,"textAlign",e)},expression:"item.subTitle.stem.textAlign"}},t._l(t.textAlign,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.letterSpacing,callback:function(e){t.$set(t.item.subTitle.stem,"letterSpacing",e)},expression:"item.subTitle.stem.letterSpacing"}},[a("template",{slot:"prepend"},[t._v("字间距：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.lineHeight,callback:function(e){t.$set(t.item.subTitle.stem,"lineHeight",e)},expression:"item.subTitle.stem.lineHeight"}},[a("template",{slot:"prepend"},[t._v("行间距：")])],2),t._v(" "),a("div",{staticClass:"edit-select"},[a("span",[t._v("颜色：")]),t._v(" "),a("el-color-picker",{model:{value:t.item.subTitle.stem.color,callback:function(e){t.$set(t.item.subTitle.stem,"color",e)},expression:"item.subTitle.stem.color"}})],1),t._v(" "),a("div",{staticClass:"font-style"},[a("span",{class:t.item.subTitle.stem.strong?"font-style-color":"",on:{click:function(e){t.setGoldTextFontStyle("strong",t.index)}}},[t._v("B\n            ")]),t._v(" "),a("span",{class:t.item.subTitle.stem.italic?"font-style-color":"",on:{click:function(e){t.setGoldTextFontStyle("italic",t.index)}}},[t._v("I\n            ")])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.x,callback:function(e){t.$set(t.item.subTitle.stem,"x",e)},expression:"item.subTitle.stem.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.stem.y,callback:function(e){t.$set(t.item.subTitle.stem,"y",e)},expression:"item.subTitle.stem.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2)],1),t._v(" "),a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.subTitle.top,callback:function(e){t.$set(t.item.subTitle,"top",e)},expression:"item.subTitle.top"}},[a("template",{slot:"prepend"},[t._v("Top：")])],2)],1)])},staticRenderFns:[]};var r=a("VU/8")(o,l,!1,function(t){a("V/9s")},"data-v-669d9098",null).exports,c={name:"EditGamePrivate",data:()=>({proportion:"",Fwidth:[{width:0},{width:0}],Fheight:[{height:0},{height:0}],lock:[{bool:!0},{bool:!0}],lockno:[{bool:!1},{bool:!1}],image_on:a("A0sX"),image_off:a("q+CB"),label:"1",testData:{switch:!0,animateName:"animateName",audioName:"audioName",spriteName:"spriteName",input:111,select:16,checked:!0,fontSize:[{label:"16px",value:16},{label:"18px",value:18},{label:"20px",value:20},{label:"22px",value:22},{label:"24px",value:24},{label:"26px",value:26},{label:"30px",value:30},{label:"40px",value:40},{label:"50px",value:50}]}}),props:["gameData","resourceData","item","index","tabShowStatus"],created(){this.dragsOption=this.gameData[this.index].drags.dragsOption,this.targetOption=this.gameData[this.index].targetArea.targetOption},watch:{Fwidth:{handler:function(){this.item.drags.dragsCommon.width=this.Fwidth[0].width,this.item.drags.dragsCommon.height=this.Fheight[0].height},deep:!0},Fheight:{handler:function(){this.item.targetArea.targetCommon.common.width=this.Fwidth[1].width,this.item.targetArea.targetCommon.common.height=this.Fheight[1].height},deep:!0}},mounted(){this.Fwidth[0].width=Math.round(this.item.drags.dragsCommon.width),this.Fheight[0].height=Math.round(this.item.drags.dragsCommon.height),this.Fwidth[1].width=Math.round(this.item.targetArea.targetCommon.common.width),this.Fheight[1].height=Math.round(this.item.targetArea.targetCommon.common.height)},methods:{posX(t,e){"x"==t&&(parseInt(e)<0||parseInt(e)>1920)&&this.$alert("坐标范围:X(0-1920)","提示",{confirmButtonText:"确定"}),"y"==t&&(parseInt(e)<1||parseInt(e)>1080)&&this.$alert("坐标范围:Y(1-1080)","提示",{confirmButtonText:"确定"})},change(t,e,a){let i=a;"width"==e?(this.Fwidth[t].width=i,1==this.lockno[t].bool&&(this.Fheight[t].height=1*i/this.proportion*1,this.Fheight[t].height=Math.round(this.Fheight[t].height),console.log("比例",this.proportion,t,this.Fheight[t].height))):"height"==e&&(this.Fheight[t].height=i,1==this.lockno[t].bool&&(this.Fwidth[t].width=i*Number(this.proportion),this.Fwidth[t].width=Math.round(this.Fwidth[t].width)))},focusWidth(t,e){this.Fwidth[t].width=Math.round(e.target.value),this.proportion=this.Fwidth[t].width/this.Fheight[t].height,this.proportion=Math.round(1e3*this.proportion)/1e3},focusHeight(t,e){this.Fheight[t].height=Math.round(e.target.value),this.proportion=this.Fwidth[t].width/this.Fheight[t].height,this.proportion=Math.round(1e3*this.proportion)/1e3},lockChange(t){this.lock[t].bool=!1,this.lockno[t].bool=!this.lock[t].bool},lockN(t){this.lockno[t].bool=!1,this.lock[t].bool=!this.lockno[t].bool},tabShow_child1(t){let e=this.$refs.yulous[t],a=this.$refs.yulou_item[t];"true"==e.getAttribute("data-off")?(e.className="el-icon-arrow-right",a.style.display="none",e.setAttribute("data-off","false")):(e.className="el-icon-arrow-down",a.style.display="block",e.setAttribute("data-off","true"))},tabShow_child(t){let e=this.$refs.fishs[t],a=this.$refs.fish_item[t];"true"==e.getAttribute("data-off")?(e.className="el-icon-arrow-right",a.style.display="none",e.setAttribute("data-off","false")):(e.className="el-icon-arrow-down",a.style.display="block",e.setAttribute("data-off","true"))},changeArr1(t,e){if("add"===t){let t=JSON.parse(JSON.stringify(this.dragsOption[0]));!function t(e){Object.values(e).forEach((a,i)=>{"object"==typeof a?t(a):"boolean"==typeof a?e[Object.keys(e)[i]]=!1:"string"==typeof a?e[Object.keys(e)[i]]="":"number"==typeof a&&(e[Object.keys(e)[i]]=0)})}(t),this.gameData[this.index].drags.dragsOption.push(t),this.$nextTick(function(){})}else"copy"===t?this.gameData[this.index].drags.dragsOption.push(JSON.parse(JSON.stringify(this.gameData[this.index].drags.dragsOption[e]))):"del"===t&&this.gameData[this.index].drags.dragsOption.length>1&&this.$confirm("此操作将删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",message:"删除成功!"}),this.gameData[this.index].drags.dragsOption.splice(e,1)}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},changeArr2(t,e){if("add"===t){let t=JSON.parse(JSON.stringify(this.targetOption[0]));!function t(e){Object.values(e).forEach((a,i)=>{"object"==typeof a?t(a):"boolean"==typeof a?e[Object.keys(e)[i]]=!1:"string"==typeof a?e[Object.keys(e)[i]]="":"number"==typeof a&&(e[Object.keys(e)[i]]=0)})}(t),this.gameData[this.index].targetArea.targetOption.push(t),this.$nextTick(function(){})}else"copy"===t?this.gameData[this.index].targetArea.targetOption.push(JSON.parse(JSON.stringify(this.gameData[this.index].targetArea.targetOption[e]))):"del"===t&&this.gameData[this.index].targetArea.targetOption.length>1&&this.$confirm("此操作将删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$message({type:"success",message:"删除成功!"}),this.gameData[this.index].targetArea.targetOption.splice(e,1)}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},tabShow(t,e){let a=this.$refs[e+"Title"];if("one"!==e){let i=this.tabShowStatus[t].child[e];i?(this.tabShowStatus[t].child[e]=!1,a.className="el-icon-arrow-right"):(this.tabShowStatus[t].child[e]=!0,a.className="el-icon-arrow-down"),console.log(i,"nameTab")}},updateResourceData(){this.$emit("updateResourceData")},uploadImage(t,e,a,i){0!==a.target.files.length?this.$http.post("/uploadingImage",{image:a.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{console.log(a,"res"),this.Fwidth[0].width=a.width,this.Fheight[0].height=a.height,this.gameData[t][e].dragsOption[i].image.name=a.resourceName,this.updateResourceData()}):this.$message({message:"上传文件个数不符合",type:"warning"})},uploadImage1(t,e,a,i){0!==a.target.files.length?this.$http.post("/uploadingImage",{image:a.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{console.log(a,"res"),this.Fwidth[1].width=a.width,this.Fheight[1].height=a.height,this.gameData[t][e].targetCommon[i].image.name=a.resourceName,this.updateResourceData()}):this.$message({message:"上传文件个数不符合",type:"warning"})},uploadAudio(t,e,a){0!==a.target.files.length?this.$http.post("/uploadingAudio",{audio:a.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{this.gameData[t][e].audio=a.resourceName}):this.$message({message:"上传文件个数不符合",type:"warning"})},uploadAnimation(t,e,a){if(0===a.target.files.length)return void this.$message({message:"上传文件个数不符合",type:"warning"});let i={};Object.values(a.target.files).forEach((t,e)=>{i["animation"+(e+1)]=t}),this.$http.post("/uploadingAnimation",i,{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{this.gameData[t][e].animate.animate_name=a.resourceName})},uploadSprite(t,e,a){if(0===a.target.files.length||2!==a.target.files.length)return void this.$message({message:"上传文件个数不符合",type:"warning"});let i={};Object.values(a.target.files).forEach((t,e)=>{i["sprite"+(e+1)]=t}),console.log(i),this.$http.post("/uploadingSprite",i,{headers:{"Content-Type":"multipart/form-data"}}).then(t=>{a.target.value=""})},changeArr(t,e){if("add"===t){let t=JSON.parse(JSON.stringify(this.gameData[0]));!function t(e){Object.values(e).forEach((a,i)=>{"object"==typeof a?t(a):"boolean"==typeof a?e[Object.keys(e)[i]]=!1:"string"==typeof a?e[Object.keys(e)[i]]="":"number"==typeof a&&(e[Object.keys(e)[i]]=0)})}(t),this.gameData.push(t),this.tabShowStatus.push({show:!1,child:JSON.parse(JSON.stringify(this.tabShowLists))})}else"copy"===t?(this.gameData.push(JSON.parse(JSON.stringify(this.gameData[e]))),this.tabShowStatus.push({show:!1,child:JSON.parse(JSON.stringify(this.tabShowLists))})):"del"===t&&this.gameData.length>1&&this.$confirm("此操作将删除选项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.gameData.splice(e,1),this.tabShowStatus.splice(e,1),this.$message({type:"success",message:"删除成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消"})})}}},m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"game-title"},[a("i",{ref:"optionTitle",class:t.tabShowStatus[t.index].child.option?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(t.index,"option")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(t.index,"option")}}},[t._v("\n            拖拽配置\n        ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.option,expression:"tabShowStatus[index].child.option"}],staticClass:"game-inner"},[a("div",{staticClass:"game-title"},[a("i",{ref:"option1Title",class:t.tabShowStatus[t.index].child.option1?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(t.index,"option1")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(t.index,"option1")}}},[t._v("\n                拖拽物\n            ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.option1,expression:"tabShowStatus[index].child.option1"}],staticClass:"game-inner"},[a("div",{staticStyle:{color:"#fff","margin-top":"10px"}},[t._v("拖拽物大小")]),t._v(" "),a("div",{ref:"commonWH",staticClass:"commonWH",staticStyle:{width:"100%",float:"left"}},[a("el-input",{ref:"commonWidth",staticClass:"commonWith",staticStyle:{width:"40%"},attrs:{placeholder:"请输入内容",size:"mini"},on:{input:function(e){t.change(0,"width",e)},change:function(e){t.change(0,"width",e)},focus:function(e){t.focusWidth(0,e)}},model:{value:t.Fwidth[0].width,callback:function(e){t.$set(t.Fwidth[0],"width",e)},expression:"Fwidth[0].width"}},[a("template",{slot:"prepend"},[t._v("W :")])],2),t._v(" "),t.lock[0].bool?a("img",{ref:"lock",staticClass:"imgsReleva",staticStyle:{float:"left","margin-left":"10px","margin-top":"15px"},attrs:{src:t.image_off,alt:""},on:{click:function(e){t.lockChange(0)}}}):t._e(),t._v(" "),t.lockno[0].bool?a("img",{ref:"lockno",staticClass:"imgsReleva",staticStyle:{float:"left","margin-left":"10px","margin-top":"15px"},attrs:{src:t.image_on,alt:""},on:{click:function(e){t.lockN(0)}}}):t._e(),t._v(" "),a("el-input",{ref:"commonHeight",staticStyle:{width:"40%"},attrs:{placeholder:"请输入内容",size:"mini"},on:{input:function(e){t.change(0,"height",e)},change:function(e){t.change(0,"height",e)},focus:function(e){t.focusHeight(0,e)}},model:{value:t.Fheight[0].height,callback:function(e){t.$set(t.Fheight[0],"height",e)},expression:"Fheight[0].height"}},[a("template",{slot:"prepend"},[t._v("H :")])],2)],1),t._v(" "),a("div",{staticStyle:{clear:"both"}}),t._v(" "),t._l(t.gameData[t.index].drags.dragsOption,function(e,i){return a("div",{key:i,staticClass:"drags"},[a("div",{staticClass:"game-title"},[a("i",{ref:"fishs",refInFor:!0,class:e?"el-icon-arrow-down":"el-icon-arrow-right",attrs:{"data-off":!0},on:{click:function(e){t.tabShow_child(i)}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow_child(i)}}},[t._v("拖拽物"+t._s(i+1))]),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-delete",on:{click:function(e){t.changeArr1("del",i)}}}),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-tickets",on:{click:function(e){t.changeArr1("copy",i)}}}),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-plus",on:{click:function(e){t.changeArr1("add",i)}}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.option,expression:"tabShowStatus[index].child.option"}],ref:"fish_item",refInFor:!0,staticClass:"game-inner fish_item",staticStyle:{"padding-left":"0px","padding-right":"0px"}},[a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{alt:"",width:"131",height:"96",src:t.resourceData[e.image.name]}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage(t.index,"drags",e,i)}}})])])]),t._v(" "),a("div",{staticStyle:{width:"100%",float:"left"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容",size:"mini"},on:{input:function(e){t.posX("x",e)}},model:{value:e.image.x,callback:function(a){t.$set(e.image,"x",a)},expression:"item_drag.image.x"}},[a("template",{slot:"prepend"},[t._v("X :")])],2),t._v(" "),a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容",size:"mini"},on:{input:function(e){t.posX("y",e)}},model:{value:e.image.y,callback:function(a){t.$set(e.image,"y",a)},expression:"item_drag.image.y"}},[a("template",{slot:"prepend"},[t._v("Y :")])],2)],1),t._v(" "),a("div",{staticStyle:{clear:"both"}})])])})],2),t._v(" "),a("div",{staticClass:"game-title"},[a("i",{ref:"option2Title",class:t.tabShowStatus[t.index].child.option2?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(t.index,"option2")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(t.index,"option2")}}},[t._v("\n                拖拽区\n            ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.option2,expression:"tabShowStatus[index].child.option2"}],staticClass:"game-inner",staticStyle:{"padding-left":"5px","padding-right":"5px"}},[a("div",{staticClass:"game-title"},[a("i",{ref:"option3Title",class:t.tabShowStatus[t.index].child.option3?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(t.index,"option3")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(t.index,"option3")}}},[t._v("\n                    拖拽区样式\n                ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.option3,expression:"tabShowStatus[index].child.option3"}],staticClass:"game-inner"},[a("div",{staticStyle:{color:"#fff","margin-top":"10px"}},[t._v("默认状态")]),t._v(" "),a("div",{staticClass:"upload",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"img-box"},[a("img",{attrs:{alt:"",width:"131",height:"96",src:t.resourceData[t.item.targetArea.targetCommon.default.image.name]}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage1(t.index,"targetArea",e,"default")}}})])])]),t._v(" "),a("div",{staticStyle:{color:"#fff","margin-top":"30px"}},[t._v("触碰状态")]),t._v(" "),a("div",{staticClass:"upload",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"img-box"},[a("img",{attrs:{alt:"",width:"131",height:"96",src:t.resourceData[t.item.targetArea.targetCommon.touch.image.name]}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage1(t.index,"targetArea",e,"touch")}}})])])]),t._v(" "),a("div",{staticStyle:{color:"#fff","margin-top":"30px"}},[t._v("错误状态")]),t._v(" "),a("div",{staticClass:"upload",staticStyle:{"margin-bottom":"10px"}},[a("div",{staticClass:"img-box"},[a("img",{attrs:{alt:"",width:"131",height:"96",src:t.resourceData[t.item.targetArea.targetCommon.error.image.name]}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage1(t.index,"targetArea",e,"error")}}})])])]),t._v(" "),a("div",{ref:"commonWH",staticClass:"commonWH",staticStyle:{width:"100%",float:"left"}},[a("el-input",{ref:"commonWidth",staticClass:"commonWith",staticStyle:{width:"40%"},attrs:{placeholder:"请输入内容","data-off":!1,size:"mini"},on:{input:function(e){t.change(1,"width",e)},change:function(e){t.change(1,"width",e)},focus:function(e){t.focusWidth(1,e)}},model:{value:t.Fwidth[1].width,callback:function(e){t.$set(t.Fwidth[1],"width",e)},expression:"Fwidth[1].width"}},[a("template",{slot:"prepend"},[t._v("W :")])],2),t._v(" "),t.lock[1].bool?a("img",{ref:"lock",staticClass:"imgsReleva",staticStyle:{float:"left","margin-left":"10px","margin-top":"15px"},attrs:{src:t.image_off,alt:""},on:{click:function(e){t.lockChange(1)}}}):t._e(),t._v(" "),t.lockno[1].bool?a("img",{ref:"lockno",staticClass:"imgsReleva",staticStyle:{float:"left","margin-left":"10px","margin-top":"15px"},attrs:{src:t.image_on,alt:""},on:{click:function(e){t.lockN(1)}}}):t._e(),t._v(" "),a("el-input",{ref:"commonHeight",staticStyle:{width:"40%"},attrs:{placeholder:"请输入内容","data-off":!1,size:"mini"},on:{input:function(e){t.change(1,"height",e)},change:function(e){t.change(1,"height",e)},focus:function(e){t.focusHeight(1,e)}},model:{value:t.Fheight[1].height,callback:function(e){t.$set(t.Fheight[1],"height",e)},expression:"Fheight[1].height"}},[a("template",{slot:"prepend"},[t._v("H :")])],2)],1)]),t._v(" "),a("div",{staticClass:"game-title"},[a("i",{ref:"option4Title",class:t.tabShowStatus[t.index].child.option4?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(t.index,"option4")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(t.index,"option4")}}},[t._v("\n                    正确答案样式\n                ")]),t._v(" "),a("div",{staticClass:"edit-switch",staticStyle:{float:"right","margin-top":"5px"}},[a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.item.textStyle.show,callback:function(e){t.$set(t.item.textStyle,"show",e)},expression:"item.textStyle.show"}})],1)]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[t.index].child.option4,expression:"tabShowStatus[index].child.option4"}],staticClass:"game-inner",staticStyle:{"padding-left":"0px","padding-right":"0px"}},[a("div",{staticStyle:{width:"100%",float:"left"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.item.textStyle.fontSize,callback:function(e){t.$set(t.item.textStyle,"fontSize",e)},expression:"item.textStyle.fontSize"}},[a("template",{slot:"prepend"},[t._v("字号 :")])],2),t._v(" "),a("div",{staticClass:"edit-select",staticStyle:{"vertical-align":"middle",width:"50%"}},[a("span",{staticStyle:{color:"#fff"}},[t._v("颜色：")]),t._v(" "),a("el-color-picker",{model:{value:t.item.textStyle.color,callback:function(e){t.$set(t.item.textStyle,"color",e)},expression:"item.textStyle.color"}})],1)],1)]),t._v(" "),t._l(t.gameData[t.index].targetArea.targetOption,function(e,i){return a("div",{key:i,staticClass:"targetarea"},[a("div",{staticClass:"game-title"},[a("i",{ref:"yulous",refInFor:!0,class:e?"el-icon-arrow-down":"el-icon-arrow-right",attrs:{"data-off":!0},on:{click:function(e){t.tabShow_child1(i)}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow_child1(i)}}},[t._v("\n                        拖拽区"+t._s(i+1)+"\n                    ")]),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-delete",on:{click:function(e){t.changeArr2("del",i)}}}),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-tickets",on:{click:function(e){t.changeArr2("copy",i)}}}),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-plus",on:{click:function(e){t.changeArr2("add",i)}}})]),t._v(" "),a("div",{ref:"yulou_item",refInFor:!0,staticClass:"yulou_out game-inner"},[a("div",{staticStyle:{width:"100%",float:"left"}},[a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容",size:"mini"},on:{input:function(e){t.posX("x",e)}},model:{value:e.x,callback:function(a){t.$set(e,"x",a)},expression:"item_target.x"}},[a("template",{slot:"prepend"},[t._v("X :")])],2),t._v(" "),a("el-input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入内容",size:"mini"},on:{input:function(e){t.posX("y",e)}},model:{value:e.y,callback:function(a){t.$set(e,"y",a)},expression:"item_target.y"}},[a("template",{slot:"prepend"},[t._v("Y :")])],2)],1),t._v(" "),a("div",{staticStyle:{clear:"both"}}),t._v(" "),a("div",{staticStyle:{color:"#fff","margin-top":"10px","margin-bottom":"10px"}},[t._v("\n                        正确答案：\n                    ")]),t._v(" "),a("el-radio-group",{staticClass:"elradio",model:{value:e.rightDrag,callback:function(a){t.$set(e,"rightDrag",a)},expression:"item_target.rightDrag"}},t._l(t.gameData[t.index].drags.dragsOption,function(e,i){return a("el-radio",{key:i,attrs:{label:(i+1).toString()}},[t._v("\n                            拖拽"+t._s(i+1)+"\n                        ")])}))],1)])})],2)])])},staticRenderFns:[]};var d=a("VU/8")(c,m,!1,function(t){a("KFro")},"data-v-7f396aca",null).exports;let h=[],u=[],g=[],p=[{name:"从上落下",label:"bounceInDown"},{name:"从下弹起",label:"bounceInUp"},{name:"从小变大",label:"zoomInAn"},{name:"无效果",label:""}],v=[{name:"Q弹",label:"bomb"},{name:"放大",label:""}];for(let N=10;N<=80;N++)N%2==0&&0!==N&&(h.push({label:`${N}px`,value:N}),u.push({label:`${N}px`,value:N}),g.push({label:`${N}px`,value:N}));var f={name:"EditGame",data:()=>({proportion:"",Fwidth:[{width:0},{width:0}],Fheight:[{height:0},{height:0}],lock:[{bool:!0},{bool:!0}],lockno:[{bool:!1},{bool:!1}],image_on:a("A0sX"),image_off:a("q+CB"),gameData:null,showStatus:!1,tabShowStatus:[],resourceData:null,comment:{index0:!1,index1:!1,index2:!1,index3:!1,index4:!1,index5:!1},enterAnimate:p,mouseEnterAnimate:v,tabShowLists:{bgImage:!1,stemImg:!1,subTitle:!1,option:!1,option1:!1,option2:!1,option3:!1,option4:!1,option5:!1,option6:!1,option7:!1,option8:!1,option9:!1,option10:!1}}),props:["allData"],watch:{Fwidth:{handler:function(){this.allData.one.comment.btnMap.nextBtn.width=this.Fwidth[0].width,this.allData.one.comment.btnMap.nextBtn.height=this.Fheight[0].height},deep:!0},Fheight:{handler:function(){this.allData.one.comment.btnMap.submitBtn.width=this.Fwidth[1].width,this.allData.one.comment.btnMap.submitBtn.height=this.Fheight[1].height},deep:!0}},methods:{posX(t,e){"x"==t&&(parseInt(e)<0||parseInt(e)>1920)&&this.$alert("坐标范围:X(0-1920)","提示",{confirmButtonText:"确定"}),"y"==t&&(parseInt(e)<1||parseInt(e)>1080)&&this.$alert("坐标范围:Y(1-1080)","提示",{confirmButtonText:"确定"})},change(t,e,a){let i=a;console.log(i,this.proportion),"width"==e?(this.Fwidth[t].width=i,console.log("1111111",this.Fwidth,"2222222",this.Fheight),1==this.lockno[t].bool&&(this.Fheight[t].height=1*i/this.proportion*1,this.Fheight[t].height=Math.round(this.Fheight[t].height),console.log("比例",this.proportion,t,this.Fheight[t].height))):"height"==e&&(this.Fheight[t].height=i,1==this.lockno[t].bool&&(this.Fwidth[t].width=i*Number(this.proportion),this.Fwidth[t].width=Math.round(this.Fwidth[t].width)))},focusWidth(t,e){this.Fwidth[t].width=Math.round(e.target.value),this.proportion=this.Fwidth[t].width/this.Fheight[t].height,this.proportion=Math.round(1e3*this.proportion)/1e3},focusHeight(t,e){this.Fheight[t].height=Math.round(e.target.value),this.proportion=this.Fwidth[t].width/this.Fheight[t].height,this.proportion=Math.round(1e3*this.proportion)/1e3},lockChange(t){this.lock[t].bool=!1,this.lockno[t].bool=!this.lock[t].bool},lockN(t){this.lockno[t].bool=!1,this.lock[t].bool=!this.lockno[t].bool},uploadCommentImage(t,e,a){0!==a.target.files.length?this.$http.post("/uploadingImage",{image:a.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(a=>{this.allData.one.comment[t][e].name=a.resourceName,this.allData.one.comment[t][e].width=a.width,this.allData.one.comment[t][e].height=a.height,this.updateResourceData()}):this.$message({message:"上传文件个数不符合",type:"warning"})},uploadCommentAudio(t,e){0!==e.target.files.length?this.$http.post("/uploadingAudio",{audio:e.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{this.allData.one.comment[t].name=e.resourceName}):this.$message({message:"上传文件个数不符合",type:"warning"})},tabCommentShow(t){this.comment[t]=!this.comment[t]},getJSON(){this.getResourceData(()=>{this.showStatus=!0}),this.gameData=this.allData.sources,this.tabShowStatus=[],this.gameData.forEach((t,e)=>{this.tabShowStatus.push({show:!1,child:JSON.parse(JSON.stringify(this.tabShowLists))})})},getResourceData(t){this.$http.get("/getResourceJSON",{params:{}}).then(e=>{this.resourceData=e,t&&t()})},changeArr(t,e){if("add"===t){let t=JSON.parse(JSON.stringify(this.gameData[0]));!function t(e){Object.values(e).forEach((a,i)=>{"object"==typeof a?t(a):"boolean"==typeof a?e[Object.keys(e)[i]]=!1:"string"==typeof a?e[Object.keys(e)[i]]="":"number"==typeof a&&(e[Object.keys(e)[i]]=0)})}(t),this.gameData.push(t),this.tabShowStatus.push({show:!1,child:JSON.parse(JSON.stringify(this.tabShowLists))})}else"copy"===t?(this.gameData.push(JSON.parse(JSON.stringify(this.gameData[e]))),this.tabShowStatus.push({show:!1,child:JSON.parse(JSON.stringify(this.tabShowLists))})):"del"===t&&this.gameData.length>1&&this.$confirm("此操作将删除选项, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.gameData.splice(e,1),this.tabShowStatus.splice(e,1),this.$message({type:"success",message:"删除成功!"})}).catch(()=>{this.$message({type:"info",message:"已取消"})})},tabShow(t,e){let a=this.$refs[e+"Title"],i=this.tabShowStatus[t].show;Object.keys(this.tabShowStatus[t].child).forEach((e,a)=>{this.tabShowStatus[t].child[e]=!1}),i?(this.tabShowStatus[t].show=!1,a.className="el-icon-arrow-right"):(this.tabShowStatus.forEach((t,e)=>{this.tabShowStatus[e].show=!1}),this.tabShowStatus[t].show=!0,a.className="el-icon-arrow-down")},updateResourceData(){this.getResourceData()}},mounted(){this.getJSON(),this.Fwidth[0].width=Math.round(this.allData.one.comment.btnMap.nextBtn.width),this.Fheight[0].height=Math.round(this.allData.one.comment.btnMap.nextBtn.height),this.Fwidth[1].width=Math.round(this.allData.one.comment.btnMap.submitBtn.width),this.Fheight[1].height=Math.round(this.allData.one.comment.btnMap.submitBtn.height)},components:{EditGamePublic:r,EditGamePrivate:d}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showStatus?a("div",{staticClass:"game"},[t._l(t.gameData,function(e,i){return a("div",{key:i},[a("div",{staticClass:"game-title",staticStyle:{background:"#383838","padding-left":"8px"}},[a("i",{ref:"oneTitle",refInFor:!0,class:t.tabShowStatus[i].show?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow(i,"one")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow(i,"one")}}},[t._v("\n            内容页"+t._s(i+1)+"\n            ")]),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-delete",on:{click:function(e){t.changeArr("del",i)}}}),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-tickets",on:{click:function(e){t.changeArr("copy",i)}}}),t._v(" "),a("i",{staticClass:"game-title-icon el-icon-plus",on:{click:function(e){t.changeArr("add",i)}}})]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.tabShowStatus[i].show,expression:"tabShowStatus[index].show"}]},[a("EditGamePublic",{attrs:{gameData:t.gameData,item:e,index:i,resourceData:t.resourceData,tabShowStatus:t.tabShowStatus},on:{updateResourceData:t.updateResourceData}}),t._v(" "),a("EditGamePrivate",{attrs:{gameData:t.gameData,item:e,index:i,resourceData:t.resourceData,tabShowStatus:t.tabShowStatus,tabShowLists:t.tabShowLists},on:{updateResourceData:t.updateResourceData}})],1)])}),t._v(" "),a("div",{staticClass:"commentConfig"},[a("div",{staticClass:"game-title",staticStyle:{background:"#383838","padding-left":"8px"}},[a("i",{class:t.comment.index0?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabCommentShow("index0")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabCommentShow("index0")}}},[t._v("\n            公共部分\n            ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.comment.index0,expression:"comment.index0"}],staticClass:"game-inner"},[a("div",{staticClass:"game-title",staticStyle:{background:"#555","padding-left":"8px","margin-top":"10px",width:"100%"}},[a("i",{class:t.comment.index1?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabCommentShow("index1")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabCommentShow("index1")}}},[t._v("\n                交互效果\n                ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.comment.index1,expression:"comment.index1"}],staticClass:"game-inner",staticStyle:{background:"#383838","margin-top":"10px"}},[a("div",{staticStyle:{color:"#fff","margin-top":"10px","margin-bottom":"10px"}},[t._v("拖拽物入场效果")]),t._v(" "),a("div",{staticClass:"option-animate"},[a("div",{staticClass:"option-animate-radio"},t._l(t.enterAnimate,function(e,i){return a("el-radio",{key:e.label,staticStyle:{width:"100px","margin-left":"10px","margin-bottom":"10px"},attrs:{label:e.label},model:{value:t.allData.one.comment.optionAn,callback:function(e){t.$set(t.allData.one.comment,"optionAn",e)},expression:"allData.one.comment.optionAn"}},[t._v("\n                        "+t._s(e.name)+"\n                        ")])}))]),t._v(" "),a("div",{staticStyle:{color:"#fff","margin-top":"10px","margin-bottom":"10px"}},[t._v("鼠标效果")]),t._v(" "),a("div",{staticClass:"option-animate"},[a("div",{staticClass:"option-animate-radio"},t._l(t.mouseEnterAnimate,function(e,i){return a("el-radio",{key:e.label,staticStyle:{width:"100px","margin-left":"10px","margin-bottom":"10px"},attrs:{label:e.label},model:{value:t.allData.one.comment.dragAn,callback:function(e){t.$set(t.allData.one.comment,"dragAn",e)},expression:"allData.one.comment.dragAn"}},[t._v("\n                        "+t._s(e.name)+"\n                        ")])}))])]),t._v(" "),a("div",{staticClass:"game-title",staticStyle:{background:"#555","padding-left":"8px","margin-top":"10px",width:"100%"}},[a("i",{class:t.comment.index2?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabCommentShow("index2")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabCommentShow("index2")}}},[t._v("\n                按钮\n                ")])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.comment.index2,expression:"comment.index2"}],staticClass:"game-inner",staticStyle:{background:"#383838","margin-top":"10px"}},[a("div",{staticStyle:{color:"#fff","margin-top":"10px","margin-bottom":"10px"}},[t._v("下一题")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.allData.sources.length>1,expression:"allData.sources.length>1"}],staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.allData.one.comment.btnMap.nextBtn.name],alt:"",width:"131",height:"96"}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadCommentImage("btnMap","nextBtn",e)}}})])])]),t._v(" "),a("div",{ref:"commonWH",staticClass:"commonWH",staticStyle:{width:"100%",float:"left"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:"",size:"mini"},on:{input:function(e){t.change(0,"width",e)},change:function(e){t.change(0,"width",e)},focus:function(e){t.focusWidth(0,e)}},model:{value:t.Fwidth[0].width,callback:function(e){t.$set(t.Fwidth[0],"width",e)},expression:"Fwidth[0].width"}},[a("template",{slot:"prepend"},[t._v("W :")])],2),t._v(" "),t.lock[0].bool?a("img",{ref:"lock",staticClass:"imgsReleva",staticStyle:{float:"left","margin-left":"10px","margin-top":"15px"},attrs:{src:t.image_off,alt:""},on:{click:function(e){t.lockChange(0)}}}):t._e(),t._v(" "),t.lockno[0].bool?a("img",{ref:"lockno",staticClass:"imgsReleva",staticStyle:{float:"left","margin-left":"10px","margin-top":"15px"},attrs:{src:t.image_on,alt:""},on:{click:function(e){t.lockN(0)}}}):t._e(),t._v(" "),a("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:"",size:"mini"},on:{input:function(e){t.change(0,"height",e)},change:function(e){t.change(0,"height",e)},focus:function(e){t.focusHeight(0,e)}},model:{value:t.Fheight[0].height,callback:function(e){t.$set(t.Fheight[0],"height",e)},expression:"Fheight[0].height"}},[a("template",{slot:"prepend"},[t._v("H :")])],2)],1),t._v(" "),a("el-input",{attrs:{placeholder:"",size:"mini"},on:{input:function(e){t.posX("x",e)}},model:{value:t.allData.one.comment.btnMap.nextBtn.x,callback:function(e){t.$set(t.allData.one.comment.btnMap.nextBtn,"x",e)},expression:"allData.one.comment.btnMap.nextBtn.x"}},[a("template",{slot:"prepend"},[t._v("X :")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"",size:"mini"},on:{input:function(e){t.posX("y",e)}},model:{value:t.allData.one.comment.btnMap.nextBtn.y,callback:function(e){t.$set(t.allData.one.comment.btnMap.nextBtn,"y",e)},expression:"allData.one.comment.btnMap.nextBtn.y"}},[a("template",{slot:"prepend"},[t._v("Y :")])],2),t._v(" "),a("div",{staticStyle:{clear:"both",width:"100%",height:"20px"}}),t._v(" "),a("div",{staticStyle:{color:"#fff","margin-top":"10px","margin-bottom":"10px"}},[t._v("按钮")]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.allData.sources.length>1,expression:"allData.sources.length>1"}],staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.allData.one.comment.btnMap.submitBtn.name],alt:"",width:"131",height:"96"}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadCommentImage("btnMap","submitBtn",e)}}})])])]),t._v(" "),a("div",{ref:"commonWH",staticClass:"commonWH",staticStyle:{width:"100%",float:"left"}},[a("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:"",size:"mini"},on:{input:function(e){t.change(1,"width",e)},change:function(e){t.change(1,"width",e)},focus:function(e){t.focusWidth(1,e)}},model:{value:t.Fwidth[1].width,callback:function(e){t.$set(t.Fwidth[1],"width",e)},expression:"Fwidth[1].width"}},[a("template",{slot:"prepend"},[t._v("W :")])],2),t._v(" "),t.lock[1].bool?a("img",{ref:"lock",staticClass:"imgsReleva",staticStyle:{float:"left","margin-left":"10px","margin-top":"15px"},attrs:{src:t.image_off,alt:""},on:{click:function(e){t.lockChange(1)}}}):t._e(),t._v(" "),t.lockno[1].bool?a("img",{ref:"lockno",staticClass:"imgsReleva",staticStyle:{float:"left","margin-left":"10px","margin-top":"15px"},attrs:{src:t.image_on,alt:""},on:{click:function(e){t.lockN(1)}}}):t._e(),t._v(" "),a("el-input",{staticStyle:{width:"40%"},attrs:{placeholder:"",size:"mini"},on:{input:function(e){t.change(1,"height",e)},change:function(e){t.change(1,"height",e)},focus:function(e){t.focusHeight(1,e)}},model:{value:t.Fheight[1].height,callback:function(e){t.$set(t.Fheight[1],"height",e)},expression:"Fheight[1].height"}},[a("template",{slot:"prepend"},[t._v("H :")])],2)],1),t._v(" "),a("el-input",{attrs:{placeholder:"",size:"mini"},on:{input:function(e){t.posX("x",e)}},model:{value:t.allData.one.comment.btnMap.submitBtn.x,callback:function(e){t.$set(t.allData.one.comment.btnMap.submitBtn,"x",e)},expression:"allData.one.comment.btnMap.submitBtn.x"}},[a("template",{slot:"prepend"},[t._v("X :")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"",size:"mini"},on:{input:function(e){t.posX("y",e)}},model:{value:t.allData.one.comment.btnMap.submitBtn.y,callback:function(e){t.$set(t.allData.one.comment.btnMap.submitBtn,"y",e)},expression:"allData.one.comment.btnMap.submitBtn.y"}},[a("template",{slot:"prepend"},[t._v("Y :")])],2)],1),t._v(" "),a("div",{staticClass:"game-title",staticStyle:{background:"#555","padding-left":"8px","margin-top":"10px",width:"100%"}},[a("i",{class:t.comment.index3?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabCommentShow("index3")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabCommentShow("index3")}}},[t._v("\n                放置音效\n                ")]),t._v(" "),a("el-switch",{staticStyle:{float:"right","margin-top":"13px"},attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.allData.one.comment.audioSrc.show,callback:function(e){t.$set(t.allData.one.comment.audioSrc,"show",e)},expression:"allData.one.comment.audioSrc.show"}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.comment.index3,expression:"comment.index3"}],staticClass:"game-inner",staticStyle:{background:"#383838","margin-top":"10px"}},[a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("音频文件：")]),t._v(" "),a("div",{staticClass:"animate-box",staticStyle:{width:"30%"}},[a("span",{domProps:{textContent:t._s(t.allData.one.comment.audioSrc.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn",staticStyle:{float:"left"}},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改音频")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadCommentAudio("audioSrc",e)}}})])])])])])])],2):t._e()},staticRenderFns:[]};var w=a("VU/8")(f,b,!1,function(t){a("b6aA")},null,null).exports;var x={name:"EditEnd",data:()=>({time:0,label:"1",endData:null,showStatus:!1,tabShowStatus:{endBg:!1,goldNum:!1},fontFamily:[{label:"微软雅黑",value:"Microsoft YaHei"},{label:"宋体",value:"SimSun"},{label:"黑体",value:"SimHei"},{label:"方正粗圆",value:"FZCuYuan-M03S"},{label:"方正粗圆简",value:"FZZhunYuan-M02S"}],resourceData:null}),props:["allData"],methods:{setGoldTextFontStyle(t){this.endData.goldText[t]=!this.endData.goldText[t],this.endData.goldText[t]?this.endData.goldText.fontWeight="bold":this.endData.goldText.fontWeight="normal","italic"==t&&(this.endData.goldText[t]?this.endData.goldText.fontStyle="italic":this.endData.goldText.fontStyle="")},setResource(t,e){this.endData[t][e].show||(this.endData[t][e].name="")},tabShow(t,e){this.$refs[e];this.tabShowStatus[t]?this.tabShowStatus[t]=!1:(Object.keys(this.tabShowStatus).forEach((t,e)=>{this.tabShowStatus[t]=!1}),this.tabShowStatus[t]=!0)},getJSON(){this.endData=this.allData.one.end,this.getResourceData(()=>{this.showStatus=!0})},getResourceData(t){this.$http.get("/getResourceJSON",{params:{}}).then(e=>{this.resourceData=e,t&&t()})},uploadAnimation(t){if(0===t.target.files.length||3!==t.target.files.length)return void this.$message({message:"上传文件个数不符合",type:"warning"});let e={};Object.values(t.target.files).forEach((t,a)=>{e["animation"+(a+1)]=t}),this.$http.post("/uploadingAnimation",e,{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{t.target.value="",this.endData.endBg.animate.name=e.resourceName})},uploadImage(t){let e=t.target.files[0].name.split(".")[t.target.files[0].name.split(".").length-1];-1!==["jpg","png"].indexOf(e)?0!==t.target.files.length?this.$http.post("/uploadingImage",{image:t.target.files[0]},{headers:{"Content-Type":"multipart/form-data"}}).then(e=>{t.target.value="",this.endData.endBg.image.name=e.resourceName,this.endData.endBg.image.width=e.width,this.endData.endBg.image.height=e.height,this.endData.endBg.image.x=0,this.endData.endBg.image.y=0,this.getResourceData()}):this.$message({message:"上传文件个数不符合",type:"warning"}):this.$message({message:"上传类型不符",type:"error"})}},mounted(){this.getJSON()}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.showStatus?a("div",{staticClass:"end"},[a("div",{staticClass:"end-time"},[a("el-input",{staticStyle:{width:"100%","margin-top":"0"},attrs:{placeholder:"",size:"mini"},model:{value:t.endData.jumpResultTime,callback:function(e){t.$set(t.endData,"jumpResultTime",e)},expression:"endData.jumpResultTime"}},[a("template",{slot:"prepend"},[t._v("最后一题停留时间")]),t._v(" "),a("template",{slot:"append"},[t._v("ms")])],2)],1),t._v(" "),a("div",{staticClass:"end-title"},[a("i",{ref:"endBgTitle",class:t.tabShowStatus.endBg?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow("endBg","endBgTitle")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow("endBg","endBgTitle")}}},[t._v("\n            背景图\n        ")])]),t._v(" "),t.tabShowStatus.endBg?a("div",{staticClass:"end-inner"},[a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource("endBg","image")}},model:{value:t.endData.endBg.image.show,callback:function(e){t.$set(t.endData.endBg.image,"show",e)},expression:"endData.endBg.image.show"}},[t._v("图片")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("div",{staticClass:"img-box"},[a("img",{attrs:{src:t.resourceData[t.endData.endBg.image.name],alt:"",width:"131",height:"96"}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改图片")]),t._v(" "),a("input",{attrs:{type:"file"},on:{change:function(e){t.uploadImage(e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.image.x,callback:function(e){t.$set(t.endData.endBg.image,"x",e)},expression:"endData.endBg.image.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.image.y,callback:function(e){t.$set(t.endData.endBg.image,"y",e)},expression:"endData.endBg.image.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.image.width,callback:function(e){t.$set(t.endData.endBg.image,"width",e)},expression:"endData.endBg.image.width"}},[a("template",{slot:"prepend"},[t._v("W：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.image.height,callback:function(e){t.$set(t.endData.endBg.image,"height",e)},expression:"endData.endBg.image.height"}},[a("template",{slot:"prepend"},[t._v("H：")])],2),t._v(" "),a("div",{staticClass:"edit-checkbox-title"},[a("el-checkbox",{attrs:{size:"small"},on:{change:function(e){t.setResource("endBg","animate")}},model:{value:t.endData.endBg.animate.show,callback:function(e){t.$set(t.endData.endBg.animate,"show",e)},expression:"endData.endBg.animate.show"}},[t._v("动画")])],1),t._v(" "),a("div",{staticClass:"upload"},[a("span",{staticClass:"file-title"},[t._v("\n                动画文件：\n            ")]),t._v(" "),a("div",{staticClass:"animate-box"},[a("span",{domProps:{textContent:t._s(t.endData.endBg.animate.name)}})]),t._v(" "),a("div",{staticClass:"upload-btn"},[a("div",{staticClass:"upload-btn-file"},[a("span",[t._v("更改文件")]),t._v(" "),a("input",{attrs:{type:"file",multiple:"multiple"},on:{change:function(e){t.uploadAnimation(e)}}})])])]),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.animate.x,callback:function(e){t.$set(t.endData.endBg.animate,"x",e)},expression:"endData.endBg.animate.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.animate.y,callback:function(e){t.$set(t.endData.endBg.animate,"y",e)},expression:"endData.endBg.animate.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.endBg.animate.scale,callback:function(e){t.$set(t.endData.endBg.animate,"scale",e)},expression:"endData.endBg.animate.scale"}},[a("template",{slot:"prepend"},[t._v("Scale：")])],2),t._v(" "),a("div",{staticClass:"edit-switch"},[a("span",[t._v("loop")]),t._v(" "),a("el-switch",{attrs:{"active-color":"#77DC04","inactive-color":"#ff4949"},model:{value:t.endData.endBg.animate.loop,callback:function(e){t.$set(t.endData.endBg.animate,"loop",e)},expression:"endData.endBg.animate.loop"}})],1)],1):t._e(),t._v(" "),a("div",{staticClass:"end-title"},[a("i",{ref:"goldNumTitle",class:t.tabShowStatus.goldNum?"el-icon-arrow-down":"el-icon-arrow-right",on:{click:function(e){t.tabShow("goldNum","goldNumTitle")}}}),t._v(" "),a("span",{on:{click:function(e){t.tabShow("goldNum","goldNumTitle")}}},[t._v("\n            金币文字\n        ")])]),t._v(" "),t.tabShowStatus.goldNum?a("div",{staticClass:"end-inner"},[a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.goldText.x,callback:function(e){t.$set(t.endData.goldText,"x",e)},expression:"endData.goldText.x"}},[a("template",{slot:"prepend"},[t._v("X：")])],2),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.goldText.y,callback:function(e){t.$set(t.endData.goldText,"y",e)},expression:"endData.goldText.y"}},[a("template",{slot:"prepend"},[t._v("Y：")])],2),t._v(" "),a("div",{staticClass:"edit-select"},[a("span",[t._v("字体：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"mini"},model:{value:t.endData.goldText.fontFamily,callback:function(e){t.$set(t.endData.goldText,"fontFamily",e)},expression:"endData.goldText.fontFamily"}},t._l(t.fontFamily,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("el-input",{attrs:{placeholder:"请输入内容",size:"mini"},model:{value:t.endData.goldText.fontSize,callback:function(e){t.$set(t.endData.goldText,"fontSize",e)},expression:"endData.goldText.fontSize"}},[a("template",{slot:"prepend"},[t._v("字号：")])],2),t._v(" "),a("div",{staticClass:"edit-select"},[a("span",[t._v("颜色：")]),t._v(" "),a("el-color-picker",{model:{value:t.endData.goldText.color,callback:function(e){t.$set(t.endData.goldText,"color",e)},expression:"endData.goldText.color"}})],1),t._v(" "),a("div",{staticClass:"font-style"},[a("span",{class:t.endData.goldText.strong?"font-style-color":"",on:{click:function(e){t.setGoldTextFontStyle("strong")}}},[t._v("B")]),t._v(" "),a("span",{class:t.endData.goldText.italic?"font-style-color":"",on:{click:function(e){t.setGoldTextFontStyle("italic")}}},[t._v("I")])])],1):t._e()]):t._e()},staticRenderFns:[]};var S=a("VU/8")(x,_,!1,function(t){a("5vYr")},"data-v-778c0860",null).exports,y=(a("E/U7"),a("7t+N")),C=a.n(y),D=a("7Q5p"),T=a.n(D);let B=!0;var k={name:"Edit",data:()=>({allData:null,showStatus:!1,publicImg:"",maskStatus:!1,startData:null,activeName:"game",activeName1:"game1",modelName:T.a.title,version:T.a.version,label:"2",submitStatus:!1}),components:{start:n,game:w,end:S},methods:{reload(){location.reload(!0)},reloadIframe(){document.getElementById("iframeWindow").contentWindow.location.reload(!0)},changeType(){"1"===this.label?this.allData.interface=!0:this.allData.interface=!1},getJSON(){this.$http.get("/getJSON",{params:{}}).then(t=>{this.allData=t,console.log(this.allData.interface),this.allData.interface?this.label="1":this.label="2",this.showStatus=!0})},writeJSON(){if(B){B=!1;let t=JSON.parse(JSON.stringify(this.allData.one.end));!function t(e){Object.values(e).forEach((a,i)=>{"object"==typeof a?t(a):"boolean"==typeof a?e[Object.keys(e)[i]]=!1:"string"==typeof a?e[Object.keys(e)[i]]="":"number"==typeof a&&(e[Object.keys(e)[i]]=0)})}(t),"1"===this.label&&(this.allData.one.end=t,console.log(this.allData.one.end)),this.$http.post("/writeJSON",{dataList:JSON.stringify(this.allData)}).then(t=>{this.submitStatus=!0,C()(".submitBtn").removeClass("submitActive"),setTimeout(()=>{this.submitStatus=!1,B=!0,C()(".submitBtn").addClass("submitActive")},5e3),document.getElementById("iframeWindow").contentWindow.location.reload(!0)})}}},mounted(){let t;this.getJSON(),C()("#submitButton").on("click",function(){if(window.store.state.pShow){console.log("新接口强制提交");let t={type:"getAnswer"};C()(".iframe iframe")[0].contentWindow.postMessage(t,"*")}else{console.log("旧接口强制提交");let t={type:"resubmitAnswer"};C()(".iframe iframe")[0].contentWindow.postMessage(t,"*")}}),window.addEventListener("message",function(t){if("onload"==t.data.type)console.log("onload接口");else if("submitAnswer"==t.data.type){let e=t.data.data.testAnswer,a=t.data.data.testNum,i=0,s=0,n=0;for(let t=0;t<a;t++){if(void 0==e[t])continue;let a=e[t],o=a.answer.length;"string"==typeof a.answer&&(o=1);let l=a.rightnum;a.isright&&s++,0==l&&0==a.type&&(n++,l=0),l>0&&0==a.type&&(l=o),a.is_right=l==o?1:0,a.rate=l/o,i+=a.rate}let o=i/a,l={goldnum:n=(n+=Math.ceil(10*o))>10?10:n,result:t.data.data.testAnswer};console.log("newData"),console.log(l);let r={type:"answerResult",data:l};C()(".iframe iframe")[0].contentWindow.postMessage(r,"*")}else if("submitData"==t.data.type){let t={type:"resubmitAnswer"};C()(".iframe iframe")[0].contentWindow.postMessage(t,"*")}else if("close"==t.data.type)C()(".iframe iframe").attr("src",""),C()(".submitData").hide();else if("answer"==t.data.type){let e={type:"answerTextResult",data:t.data.data};C()(".iframe iframe")[0].contentWindow.postMessage(e,"*")}}),t="http://localhost:8888/#/",document.getElementById("iframeWindow").src=t}},I={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main"},[a("img",{attrs:{src:"static/images/reload.png",alt:"",id:"reload"},on:{click:function(e){t.reload()}}}),t._v(" "),t._m(0),t._v(" "),t.showStatus?a("div",{staticClass:"edit"},[a("header",[a("h1",{domProps:{textContent:t._s(t.modelName)}}),t._v(" "),a("p",{domProps:{textContent:t._s("版本号：v"+t.version)}})]),t._v(" "),a("div",{staticClass:"edit-tab"},[a("el-radio",{attrs:{label:"1"},on:{change:function(e){t.changeType()}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t._v("课件平台組课")]),t._v(" "),a("el-radio",{attrs:{label:"2"},on:{change:function(e){t.changeType()}},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}},[t._v("ftp組课")])],1),t._v(" "),"1"===t.label?a("el-tabs",{attrs:{type:"border-card",value:"内容页",stretch:!0},model:{value:t.activeName1,callback:function(e){t.activeName1=e},expression:"activeName1"}},[a("el-tab-pane",{attrs:{label:"开始页",name:"start1"}},["start1"===t.activeName1?a("start",{ref:"start1",attrs:{allData:t.allData},on:{reload:t.reloadIframe}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"内容页",name:"game1"}},["game1"===t.activeName1?a("game",{ref:"game1",attrs:{allData:t.allData},on:{reload:t.reloadIframe}},[t._v(">\n\n                ")]):t._e()],1)],1):t._e(),t._v(" "),"2"===t.label?a("el-tabs",{attrs:{type:"border-card",value:"内容页",stretch:!0},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"开始页",name:"start"}},["start"===t.activeName?a("start",{ref:"start",attrs:{allData:t.allData},on:{reload:t.reloadIframe}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"内容页",name:"game"}},["game"===t.activeName?a("game",{ref:"game",attrs:{allData:t.allData},on:{reload:t.reloadIframe}}):t._e()],1),t._v(" "),a("el-tab-pane",{attrs:{label:"结果页",name:"end"}},["end"===t.activeName?a("end",{ref:"end",attrs:{allData:t.allData},on:{reload:t.reloadIframe}}):t._e()],1)],1):t._e(),t._v(" "),a("div",{staticClass:"submit"},[a("el-button",{staticClass:"submitBtn submitActive",attrs:{type:"primary",disabled:t.submitStatus},on:{click:function(e){t.writeJSON()}}},[t._v("保存")])],1)],1):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"iframe"},[e("button",{attrs:{id:"submitButton"}},[this._v("强制提交")]),this._v(" "),e("iframe",{attrs:{src:"http://localhost:8080/#/",id:"iframeWindow",frameborder:"0"}})])}]};var A=a("VU/8")(k,I,!1,function(t){a("IU3M")},null,null);e.a=A.exports}},["NHnr"]);